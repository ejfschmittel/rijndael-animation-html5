(()=>{"use strict";var e={934:(e,t,n)=>{var r=n(975),o=n(715),i=n(642);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},l=n&&!r;clearTimeout(r),r=setTimeout(a,t),l&&e.apply(o,i)}}var s=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n=0;n<e;n++)t+=Math.round(Math.random());return t},c=function(e,t){var n,r=function(e){if(Array.isArray(e))return a(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return r.concat(r.splice(0,t))};function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"getMenuItemTemplate",(function(e){return'\n        <div class="navigation-item tooltip">\n            <div class="tooltiptext"></div>\n            <div class="navigation-item__number">'.concat(e,'</div>\n            <div class="navigation-item__title"></div>\n        </div>\n        ')})),d(this,"getTitleLangKey",(function(e){return"".concat(e,"-title")})),d(this,"getInfoLangKey",(function(e){return"".concat(e,"-info")})),d(this,"updateCurrentPageUI",l((function(e){n.showInfoText(e);var t=n.navigationContainer.querySelectorAll(".navigation-item"),r=n.controller.pageIDs.indexOf(e);t.forEach((function(e,t){t==r?e.classList.add("navigation-item--current"):e.classList.remove("navigation-item--current")}))}),100)),this.controller=t,this.mobileOverlays=document.querySelectorAll(".ui-container"),this.playBtn=document.getElementById("rijndael-animation-play-btn"),this.forwardsBtn=document.getElementById("rijndael-animation-jump-forwards"),this.backwardsBtn=document.getElementById("rijndael-animation-jump-backwards"),this.settingsBtn=document.getElementById("rijndael-animation-settings-btn"),this.infoBtn=document.getElementById("rijndael-animation-info-btn"),this.navigationBtn=document.getElementById("rijndael-animation-navigation-btn"),this.formBtn=document.getElementById("rijndael-animation-form-btn"),this.navigationOverlay=document.getElementById("rijndael-animation-navigation-overlay"),this.infoOverlay=document.getElementById("rijndael-animation-info-overlay"),this.formOverlay=document.getElementById("rijndael-animation-form-overlay"),this.settingsOverlay=document.getElementById("rijndael-animation-settings-overlay"),this.navigationContainer=document.getElementById("rijndael-animation-navigation"),this.infoContainer=document.getElementById("rijndael-animation-info"),this.closeSettingsBtn=document.getElementById("close-settings-btn"),this.jumpStepInput=document.getElementById("rijndael-animation-jump-step-input"),this.pageInfoTexts=[],this.createEventListeners()}var t,n;return t=e,(n=[{key:"onResizeStart",value:function(){this.playBtn.classList.add("controlls__btn--disabled"),this.forwardsBtn.classList.add("controlls__btn--disabled"),this.backwardsBtn.classList.add("controlls__btn--disabled")}},{key:"onResizeEnd",value:function(){this.playBtn.classList.remove("controlls__btn--disabled"),this.forwardsBtn.classList.remove("controlls__btn--disabled"),this.backwardsBtn.classList.remove("controlls__btn--disabled")}},{key:"createEventListeners",value:function(){var e=this;this.playBtn.addEventListener("click",(function(){e.hideAllOverlays(),e.higlightButton(),e.controller.timeline.isPaused()?e.controller.play():e.controller.pause()})),this.forwardsBtn.addEventListener("click",(function(){e.hideAllOverlays(),e.higlightButton(),e.controller.timeline.jumpForwards()})),this.backwardsBtn.addEventListener("click",(function(){e.hideAllOverlays(),e.higlightButton(),e.controller.timeline.jumpBackwards()})),this.infoBtn.addEventListener("click",(function(){e.onOverlayBtnPress(e.infoBtn,e.infoOverlay)})),this.navigationBtn.addEventListener("click",(function(){e.onOverlayBtnPress(e.navigationBtn,e.navigationOverlay)})),this.formBtn.addEventListener("click",(function(){e.onOverlayBtnPress(e.formBtn,e.formOverlay)})),this.settingsBtn.addEventListener("click",(function(){e.onOverlayBtnPress(e.settingsBtn,e.settingsOverlay)})),this.closeSettingsBtn.addEventListener("click",(function(t){e.settingsOverlay.classList.remove("ui-container--display"),e.higlightButton(e.settingsBtn,!1)})),this.jumpStepInput.addEventListener("input",(function(t){var n=e.controller.timeline.JUMP_STEP,r=t.target.value;""!=r?0==(r=parseFloat(r))||/^\d(?:[.,]\d)?$/.test(r)?e.controller.timeline.setJumpStep(r):t.target.value=n:e.controller.timeline.setJumpStep(.5)}))}},{key:"showPlayIcon",value:function(){this.playBtn.classList.add("controlls__play-btn--paused")}},{key:"showPauseIcon",value:function(){this.playBtn.classList.remove("controlls__play-btn--paused")}},{key:"recreateNavigation",value:function(){var e=this;this.navigationContainer.innerHTML="",this.controller.pageIDs.forEach((function(t,n){var r=document.createElement("div");r.innerHTML=e.getMenuItemTemplate(n+1).trim();var o=r.firstChild;e.addLocaleToElement(e.getTitleLangKey(t),o.querySelector(".tooltiptext")),e.addLocaleToElement(e.getTitleLangKey(t),o.querySelector(".navigation-item__title")),o.addEventListener("click",(function(){e.controller.timeline.goToPage(t),e.hideAllOverlays(),e.higlightButton()})),e.navigationContainer.appendChild(o)}))}},{key:"getInfoTextTemplate",value:function(e){return'\n            <div class="info" id="rijndael-page-info-'.concat(e,'">\n                <h3 class="info__title"></h3>\n                <div class="info__body"></div>\n            </div>\n        ')}},{key:"addLocaleToElement",value:function(e,t){var n=this.controller.locale.getLocaleText(e);t.innerHTML=n,t.dataset.lang=e}},{key:"addInfoText",value:function(e){var t=document.createElement("div");t.innerHTML=this.getInfoTextTemplate(e).trim();var n=t.firstChild;this.addLocaleToElement(this.getTitleLangKey(e),n.querySelector("h3")),this.addLocaleToElement(this.getInfoLangKey(e),n.querySelector(".info__body")),this.infoContainer.appendChild(n),this.pageInfoTexts.push(n)}},{key:"showInfoText",value:function(e){this.pageInfoTexts.forEach((function(t){t.id==="rijndael-page-info-".concat(e)?t.style.display="block":t.style.display="none"}))}},{key:"onOverlayBtnPress",value:function(e,t){var n=this.toggleOverlays(t);this.higlightButton(e,n)}},{key:"toggleOverlays",value:function(e){var t=null;return this.mobileOverlays.forEach((function(n){n!==e?n.classList.remove("ui-container--display"):t=n.classList.toggle("ui-container--display")})),t}},{key:"hideAllOverlays",value:function(){this.mobileOverlays.forEach((function(e){return e.classList.remove("ui-container--display")}))}},{key:"higlightButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[this.navigationBtn,this.formBtn,this.infoBtn];n.forEach((function(n){n==e&&t?n.classList.add("ui__btn--selected"):n.classList.remove("ui__btn--selected")}))}}])&&u(t.prototype,n),e}();function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"onAfterResize",l((function(){n.rebuildTimline()}),200)),this.controller=t,this.tl=this.createEmptyTimeline(),this.nestedTimelines={},this.tlStateBeforeResize=null,this.JUMP_STEP=.5,this.animationCompletedScreen=document.getElementById("animation-completed-screen"),this.backToKeyScheduleBtn=document.getElementById("back-to-key-schedule-btn"),this.backToStartBtn=document.getElementById("back-to-start-btn"),this.backToEncryptionBtn=document.getElementById("back-to-encryption-process-btn"),this.backToKeyScheduleBtn.addEventListener("click",(function(e){e.preventDefault(),n.goToPage("page-13")})),this.backToEncryptionBtn.addEventListener("click",(function(e){e.preventDefault(),n.goToPage("page-4")})),this.backToStartBtn.addEventListener("click",(function(e){e.preventDefault(),n.goToPage("page-1")})),window.addEventListener("keypress",(function(e){e.stopPropagation(),console.log(document.activeElement)," "!==e.key&&32!=e.keyCode||"rijndael-animation-screen"===document.activeElement.id&&n.jumpForwards()}))}var t,n;return t=e,(n=[{key:"createEmptyTimeline",value:function(){var e=this;return this.tl&&this.tl.kill(),this.tl=null,i.p8.timeline({paused:!0,onComplete:function(){return e.pause()}})}},{key:"onResize",value:function(e){this.tlStateBeforeResize||this.saveTimelineState(),this.onAfterResize()}},{key:"saveAndRebuildTimeline",value:function(){this.tlStateBeforeResize||this.saveTimelineState(),this.rebuildTimline()}},{key:"saveTimelineState",value:function(){var e=this.tl.paused();this.pause();var t=this.tl.totalTime(),n={label:"".concat(this.controller.pageIDs[0],"-animation-main"),nestedLabel:null,time:0};0!==t&&(n=this.getLabelsByTime(t),this.resetTimelineToLabel(n.label)),this.tlStateBeforeResize={time:t,lastActiveLabels:n,paused:e}}},{key:"getLabelsByTime",value:function(e){var t=this,n=this.tl.getChildren(!1,!1,!0),r=Object.keys(this.tl.labels).map((function(e){return[e,t.tl.labels[e]]})),o=this.getClosestLabel(e,r),i=n.reduce((function(e,t){return[].concat(y(e),y(Object.keys(t.labels).map((function(e){return[e,t.startTime()+t.labels[e]/t.timeScale()]}))))}),[]),a=this.getClosestLabel(e,i);return e-a.time<=e-o.time?{label:o.label,nestedLabel:a.label,time:a.time}:{label:o.label,nestedLabel:null,time:o.time}}},{key:"getClosestLabel",value:function(e,t){for(var n=t.sort((function(e,t){return e[1]-t[1]})),r=null,o=null,i=1e4,a=n.length-1;a>=0;a--){var l=n[a][0],s=n[a][1],c=e-s;c>=0&&c<i&&(o=s,r=l,i=c)}return{label:r,time:o}}},{key:"rebuildTimline",value:function(){console.time("rebuild timeline"),this.controller.buildTimeline(),this.controller.hideAllPages();var e=this.tlStateBeforeResize.lastActiveLabels;this.resetTimelineToLabel(e.label),this.tlStateBeforeResize&&!1===this.tlStateBeforeResize.paused&&this.play(),this.tlStateBeforeResize=null,this.controller.ui.onResizeEnd(),this.controller.isResizing=!1,console.timeEnd("rebuild timeline")}},{key:"resetTimelineToLabel",value:function(e){this.tl.seek(e,!1)}},{key:"isPaused",value:function(){return this.tl.paused()}},{key:"play",value:function(){this.tl.totalTime()!=this.tl.totalDuration()&&(this.controller.ui.showPauseIcon(),this.tl.resume())}},{key:"goToPage",value:function(e){var t=this.tl.paused();this.tl.pause(),this.controller.movables.resetMovedElement(),t?this.tl.seek("".concat(e,"-animation-main"),!1):this.tl.play("".concat(e,"-animation-main"),!1)}},{key:"pause",value:function(){this.controller.ui.showPlayIcon(),this.tl.pause()}},{key:"jumpForwards",value:function(){var e=this.tl.totalTime();this.tl.seek(e+this.JUMP_STEP,!1)}},{key:"jumpBackwards",value:function(){var e=this.tl.totalTime();this.tl.seek(e-this.JUMP_STEP,!1)}},{key:"setJumpStep",value:function(e){this.JUMP_STEP=e}},{key:"createTimeline",value:function(){var e=this;this.tl=this.createEmptyTimeline(),this.controller.pageIDs.forEach((function(t,n){var r,o=e.controller.pagesByID[t],i=o.createUpdatePage(0==n?null:e.controller.pageIDs[n-1]),a=o.createPreFadeIn(),l=o.createFadeIn(),s=o.createAnimationIn(),c=o.createAnimationMain(),u=o.createAnimationOut(),d=(m(r={},"".concat(t,"-update-page"),i),m(r,"".concat(t,"-pre-fade-in"),a),m(r,"".concat(t,"-fade-in"),l),m(r,"".concat(t,"-animation-in"),s),m(r,"".concat(t,"-animation-main"),c),m(r,"".concat(t,"-animation-out"),u),r);n!==e.controller.pageIDs.length-1&&(d["".concat(t,"-fade-out")]=o.createFadeOut()),Object.keys(d).forEach((function(t){e.tl.add(d[t],t)})),e.nestedTimelines=h(h({},e.nestedTimelines),d)}))}}])&&g(t.prototype,n),e}();function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=j(new Array(30)).map((function(){return"00"})),E={"galois-field":["02","03","01","01","01","02","03","01","01","01","02","03","03","01","01","02"],rcon:["01","02","04","08","10","20","40","80","1b","36"].concat(j(R))};const x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=S({},E),this.subscriptions={}}var t,n;return t=e,(n=[{key:"subscribe",value:function(e,t){var n=e in this.subscriptions?this.subscriptions[e]:[];this.subscriptions=S(S({},this.subscriptions),{},O({},e,[].concat(j(n),[t]))),this.setSubscriberData(this.getData(e),t)}},{key:"callSubscribers",value:function(e){var t=this,n=this.getData(e);this.getSubscribers(e).forEach((function(e){t.setSubscriberData(n,e)}))}},{key:"setSubscriberData",value:function(e,t){(t=Array.isArray(t)?t:[t]).forEach((function(t,n){var r=Array.isArray(e)?e[n]:e;t.innerHTML=r}))}},{key:"updateStore",value:function(e,t){this.store=S(S({},this.store),{},O({},e,t)),this.callSubscribers(e)}},{key:"updateStoreByObject",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n];t.updateStore(n,r)}))}},{key:"getSubscribers",value:function(e){return void 0!==this.subscriptions[e]?this.subscriptions[e]:[]}},{key:"getData",value:function(e){if(!e in this.store)throw new Error("key '".concat(e,"' not found in data store."));return this.store[e]||0}}])&&k(t.prototype,n),e}();function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function C(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length;A(this,e),this.movables=t,this.rows=n,this.cols=r}return B(e,[{key:"getRow",value:function(e){if(e<0||e>=this.rows)throw new Error("MovablesCollector Out of Bounds: row=".concat(colIndex,". Valid row indeces are 0-").concat(this.rows-1));return this.movables.slice(e*this.cols,e*this.cols+this.cols)}},{key:"getCol",value:function(e){var t=this;if(e<0||e>=this.cols)throw new Error("MovablesCollector Out of Bounds: col=".concat(e,". Valid column indeces are 0-").concat(this.cols-1));return this.movables.reduce((function(n,r,o){return o%t.cols==e?[].concat(C(n),[r]):n}),[])}},{key:"get",value:function(e,t){if(e<0||t<0||e>=this.rows||t>=this.cols)throw new Error("MovablesCollector Out of Bounds: no movable with row=".concat(e,", col=").concat(t," found."));return this.movables[e*this.cols+t]}},{key:"getAllByCol",value:function(){for(var e=[],t=0;t<this.cols;t++)e=[].concat(C(e),C(this.getCol(t)));return e}},{key:"getMovables",value:function(){return this.movables}}]),e}(),I=function(e){var t,n=e.getBoundingClientRect(),r=i.p8.getProperty(e);return L(t={sx:r("scaleX"),sy:r("scaleY"),x:r("x"),y:r("y"),l:n.left,t:n.top,w:n.width,bh:n.height},"w",parseFloat(r("width","px"))),L(t,"h",parseFloat(r("height","px"))),L(t,"bw",n.width),L(t,"bh",n.height),L(t,"css",e.style.cssText),L(t,"origin",getComputedStyle(e).transformOrigin.split(" ").map(parseFloat)),t},D=function(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,l:t.left,t:t.top,w:t.width,h:t.height}};const F=function(){function e(t){A(this,e),this.controller=t,this.movedElements={}}return B(e,[{key:"registerMovedElement",value:function(e){e.id in this.movedElements||(e.dataset.ogParent=e.parentNode.id,this.movedElements[e.id]=e)}},{key:"resetMovedElement",value:function(){var e=this;Object.keys(this.movedElements).map((function(t){var n=e.movedElements[t];document.getElementById(n.dataset.ogParent).appendChild(n)}))}}]),e}();function K(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var H="object"===("undefined"==typeof self?"undefined":W(self))&&self.self===self&&self||"object"===(void 0===n.g?"undefined":W(n.g))&&n.g.global===n.g&&n.g||void 0,N=function(e){return void 0!==H[e]};const V=function(e){var t;if(N("Buffer"))return K(H.Buffer.from(e));if(t=e,N("TypedArray")&&t instanceof H.TypedArray)return K(new Uint8Array(e.buffer));if("string"==typeof e)return K(unescape(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)}));for(var n=Array.from(e),r=0;r<n.length;r++){var o=n[r];if(!Number.isInteger(o)||o<0||255<o)throw new Error("Given data is not a byte array (data[".concat(r,"] = ").concat(o,"))"))}return n},G=function(e){for(var t=[],n=0;n<e.length;n+=2){var r=e.substring(n,n+2);t.push((o=r)?parseInt(o.replace(/^#/,""),16):0)}var o;return t},U=function(e){return function(e){for(var t,n,r=[],o=0;o<e.length;o++)r.push((t=e[o],void 0,1==(n=Number(t).toString(16).slice(-2).toUpperCase()).length?"0"+n:n));return r}(e).join("")};var q=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Y=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],X={16:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],24:[0,5,10,15,4,9,14,19,8,13,18,23,12,17,22,3,16,21,2,7,20,1,6,11],32:[0,5,14,19,4,9,18,23,8,13,22,27,12,17,26,31,16,21,30,3,20,25,2,7,24,29,6,11,28,1,10,15]},Z=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],J=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],$=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Q=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],ee=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],te=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ae=[16,24,32],le={16:{16:10,24:12,32:14},24:{16:12,24:12,32:14},32:{16:14,24:14,32:14}};const se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.length;if(!ae.includes(n))throw new Error("Unsupported key size: ".concat(8*n,"bit"));this.key=V(t),this.keySize=n}var t,n;return t=e,(n=[{key:"ExpandKey",value:function(e){for(var t=this.keySize,n=le[e][t],r=new Array((n+1)*e),o=0;o<t;o++)r[o]=this.key[o];for(var i=0,a=[],l=t;l<r.length;l+=4){var s=r.slice(l-4,l);if(l%t==0&&(s=[q[s[1]]^Y[i],q[s[2]],q[s[3]],q[s[0]]],a.push.apply(a,function(e){if(Array.isArray(e))return oe(e)}(f=s.slice())||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(f)||re(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i++),l%t<16)for(var c=0;c<4;c++)r[l+c]=r[l-t+c]^s[c];if(16!==t)if(32===t&&l%t==16){s=[q[s[0]],q[s[1]],q[s[2]],q[s[3]]];for(var u=0;u<4;u++)r[l+u]=r[l-t+u]^s[u]}else for(var d=0;d<4;d++)r[l+d]=r[l-t+d]^s[d]}var f;return[r,a]}},{key:"AddRoundKey",value:function(e,t,n){for(var r=e.length,o=0;o<r;o++)e[o]^=t[n*r+o]}},{key:"SubBytes",value:function(e){for(var t=0;t<e.length;t++)e[t]=q[e[t]]}},{key:"SubBytesReversed",value:function(e){for(var t=0;t<e.length;t++)e[t]=q.indexOf(e[t])}},{key:"ShiftRows",value:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[X[e.length][n]];for(var r=0;r<e.length;r++)e[r]=t[r]}},{key:"ShiftRowsReversed",value:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[X[e.length].indexOf(n)];for(var r=0;r<e.length;r++)e[r]=t[r]}},{key:"MixColumns",value:function(e){for(var t=0;t<e.length;t+=4){var n=e.slice(t,t+4),r=[Z[n[0]]^J[n[1]]^n[2]^n[3],n[0]^Z[n[1]]^J[n[2]]^n[3],n[0]^n[1]^Z[n[2]]^J[n[3]],J[n[0]]^n[1]^n[2]^Z[n[3]]];e[t+0]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3]}}},{key:"MixColumnsReversed",value:function(e){for(var t=0;t<e.length;t+=4){var n=e.slice(t,t+4),r=[te[n[0]]^Q[n[1]]^ee[n[2]]^$[n[3]],$[n[0]]^te[n[1]]^Q[n[2]]^ee[n[3]],ee[n[0]]^$[n[1]]^te[n[2]]^Q[n[3]],Q[n[0]]^ee[n[1]]^$[n[2]]^te[n[3]]];e[t+0]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3]}}},{key:"encrypt",value:function(e){var t,n=V(e),r=n.length,o=this.keySize,i=le[r][o];if(!ae.includes(r))throw new Error("Unsupported block size: ".concat(8*r,"bit"));var a,l,s=n.slice(),c=(ne(t={},"initial-state",s.slice()),ne(t,"sbox",q),t),u=(a=this.ExpandKey(r),l=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(a,l)||re(a,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1];c["key-shedule-subbed-bytes"]=f,c["key-schedule"]=d.slice(),this.AddRoundKey(s,d,0),c["after-initial-round"]=s.slice();for(var p=1;p<i;p++)c["round-".concat(p,"-initial")]=s.slice(),this.SubBytes(s),c["after-sub-bytes-".concat(p)]=s.slice(),this.ShiftRows(s),c["after-shift-rows-".concat(p)]=s.slice(),this.MixColumns(s),c["after-mix-columns-".concat(p)]=s.slice(),this.AddRoundKey(s,d,p),c["after-add-round-key-".concat(p)]=s.slice();return c["round-10-initial"]=s.slice(),this.SubBytes(s),c["after-sub-bytes-10"]=s.slice(),this.ShiftRows(s),c["after-shift-rows-10"]=s.slice(),this.AddRoundKey(s,d,i),c["after-add-round-key-10"]=s.slice(),[s,c]}}])&&ie(t.prototype,n),e}();function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fe=[16],pe=["ecb","cbc"];const he=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.length/2;if(!fe.includes(r))throw new Error("Unsupported key size: ".concat(8*r," bit"));if(!pe.includes(n))throw new Error("Unsupported mode: ".concat(n));this.key=G(t),this.keySize=r,this.mode=n}var t,n;return t=e,(n=[{key:"encrypt",value:function(e,t,n){if((t=parseInt(t))<=32&&!fe.includes(t))throw new Error("Unsupported block size: ".concat(8*t," bit"));if(32<t&&(t/=8,!fe.includes(t)))throw new Error("Unsupported block size: ".concat(t," bit"));if("cbc"===this.mode){if(!n)throw new Error("IV is required for mode ".concat(this.mode));if(n.length!==t)throw new Error("IV size should match with block size (".concat(8*t," bit)"))}var r=e,o=r.length%t;for(0!==o&&(o=t-o);o-- >0;)r.push(0);var i=r.length/t,a=new Array(r.length),l=new se(this.key),s={key:this.key,keySize:this.keySize,mode:this.mode};switch(this.mode){case"ecb":for(var c=0;c<i;c++){var u=c*t,d=(c+1)*t,f=r.slice(u,d),p=ce(l.encrypt(f),2),h=p[0],y=p[1];s["block".concat(c)]=y;for(var b=0;b<t;b++)a[u+b]=h[b]}console.log(s);break;case"cbc":for(var g=V(n),m=0;m<i;m++){for(var v=m*t,w=(m+1)*t,S=r.slice(v,w),O=0;O<t;O++)S[O]^=g[O];for(var k=ce(l.encrypt(S),2),j=k[0],T=(k[1],0);T<t;T++)a[v+T]=j[T];g=j.slice()}}return s.plaintext=r,[a=U(a),s]}}])&&de(t.prototype,n),e}();function ye(e){return e.map((function(e){return 1==(t=Number(e).toString(16).slice(-2).toUpperCase()).length?"0"+t:t;var t}))}var be=function(e){return e?parseInt(e.replace(/^#/,""),16):0};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ke=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Oe(this,"toGridByRow",(function(e,t,n){for(var r=new Array(n.length),o=0;o<t;o++)for(var i=0;i<e;i++)r[i*e+o]=n[o*t+i];return r})),Oe(this,"prepareHexOutputString",(function(e){var t="";return e.match(/.{1,32}/g).forEach((function(e,n){var r=e.match(/.{1,2}/g);0!=n&&(t+=" "),t+=r.join("")})),console.log(t),t})),this.controller=t,this.formButton=document.getElementById("rijndael-form-button"),this.outputField=document.getElementById("rijndael-form-ouput"),this.KeyField=document.getElementById("rijndael-form-key-input"),this.plaintextField=document.getElementById("rijndael-form-plaintext-input"),this.plaintextHexadecimalField=document.getElementById("rijndael-form-plaintext-hexadecimal"),this.plaintextRow=document.getElementById("rijndael-plaintext-row"),this.plaintextHexRow=document.getElementById("rijndael-plaintext-hex-row"),this.plaintextHexLabel=document.getElementById("rijndael-plaintext-hex-label"),this.errorField=document.getElementById("rijndael-form-error-field"),this.radioSelects=document.getElementsByName("asciiorhex"),this.errors=null,this.mode="ascii",this.formButton.addEventListener("click",(function(e){e.preventDefault(),n.onEcryptClick(!0)})),this.radioSelects.forEach((function(e){e.addEventListener("change",(function(e){"hex"==e.target.value?(n.plaintextRow.style.visibility="hidden",n.plaintextHexRow.style.order=-1,n.plaintextRow.style.order=1,n.plaintextHexLabel.innerHTML=n.controller.locale.getLocaleText("plaintextHexadecimalLabelTwo"),n.mode="hex",n.plaintextHexadecimalField.disabled=!1):(n.plaintextRow.style.visibility="visible",n.plaintextRow.style.order=0,n.plaintextHexRow.style.order=0,n.plaintextHexLabel.innerHTML=n.controller.locale.getLocaleText("plaintextHexadecimalLabel"),n.mode="ascii",n.plaintextHexadecimalField.disabled=!0)}))})),this.plaintextField.addEventListener("keyup",(function(e){var t=e.target.value,r=V(t),o=U(r);n.plaintextHexadecimalField.value=n.prepareHexOutputString(o)})),this.plaintextHexadecimalField.addEventListener("keyup",(function(e){var t,r=e.target.value,o=G(r.replace(/\s/g,"")),i=(t=o,String.fromCharCode.apply(String,K(t)));n.plaintextField.value=i}));var r=V(this.plaintextField.value),o=U(r);this.plaintextHexadecimalField.value=this.prepareHexOutputString(o),this.onEcryptClick()}var t,n;return t=e,(n=[{key:"executeRijndaelAES",value:function(e){var t=e.plaintext,n=e.key,r=ve(new he(n,"ecb").encrypt(t,128),2);return[r[0],r[1]]}},{key:"prepareRijndaelDataForDisplay",value:function(e){var t=this,n=e.block0,r=e.keySize,o=e.mode,i=e.key,a=me({},n);return Object.keys(a).forEach((function(e){var n=a[e].slice();switch(e){case"key-schedule":for(var r=0;r<n.length/16;r++){var o=n.slice(16*r,16*r+16);a["key-".concat(r)]=ye(t.toGridByRow(4,4,o))}return;case"sbox":return void(a[e]=ye(n));default:return void(a[e]=ye(t.toGridByRow(4,4,n)))}})),me({keySize:r,mode:o,key:i},a)}},{key:"gatherFormData",value:function(){return{plaintext:"hex"==this.mode?G(this.plaintextHexadecimalField.value.replace(/\s/g,"")):V(this.plaintextField.value),key:this.KeyField.value}}},{key:"isHex",value:function(e){return!(32!=e.length||!/[0-9A-Fa-f]{6}/g.test(e))}},{key:"validateFormData",value:function(e){this.errorField.innerHTML="";var t="";return this.isHex(e.key)||(t=this.controller.locale.getLocaleText("formErrorMessage")),0==e.key.length&&(t=this.controller.locale.getLocaleText("formErrorKeyNotEmpty")),0==e.plaintext.length&&(t=this.controller.locale.getLocaleText("formErrorPlaintextNotEmpty")),this.errorField.innerHTML=t,!t}},{key:"onEcryptClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.gatherFormData();if(this.validateFormData(t)){var n=this.executeRijndaelAES(t),r=ve(n,2),o=r[0],i=r[1],a=this.prepareHexOutputString(o);this.outputField.value=a;var l=this.prepareRijndaelDataForDisplay(i),s=ye(i.plaintext).join("");this.prepareHexOutputString(s),this.controller.data.updateStoreByObject(l),e&&this.controller.timeline.saveAndRebuildTimeline()}}}])&&Se(t.prototype,n),e}();function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const xe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.controller=t,this.themes=n,this.themeContainer=document.querySelector("body"),this.themeSelect=document.getElementById("rijndael-animation-theme-select"),this.currentTheme=n[0].name,this.themeContainer.classList.add(n[0].className),this.themesByName=this.themes.reduce((function(e,t){return Te(Te({},e),{},Re({},t.name,t))}),{}),this.initThemeSelect()}var t,n;return t=e,(n=[{key:"setTheme",value:function(e){if(e!=this.currentTheme&&this.isValidTheme(e)){var t=this.themesByName[this.currentTheme].className;this.currentTheme=e;var n=this.themesByName[e].className;this.themeContainer.classList.remove(t),this.themeContainer.classList.add(n),this.controller.timeline.saveAndRebuildTimeline()}}},{key:"getColor",value:function(e){return getComputedStyle(this.themeContainer).getPropertyValue(e).trim()}},{key:"isValidTheme",value:function(e){return Object.keys(this.themesByName).includes(e)}},{key:"initThemeSelect",value:function(){var e=this;this.themes.map((function(t){var n=t.name,r=t.localeKey,o=document.createElement("option");o.value=n,o.innerHTML=e.controller.locale.getLocaleText(r),o.dataset.lang=r,e.themeSelect.appendChild(o)})),this.themeSelect.value=this.currentTheme,this.themeSelect.addEventListener("change",(function(t){var n=t.target.value;e.setTheme(n)}))}}])&&Ee(t.prototype,n),e}();function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Ae=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.controller=t,this.localesSelect=document.getElementById("rijndael-animation-lang-select"),this.locales=n,this.currentLocale=this.getCurrentPageLocale(),this.isValidLocaleKey(this.currentLocale)||(this.currentLocale=Object.keys(this.locales)[0]),this.updateHTMLLocale(),this.initLocalesSelect()}var t,n;return t=e,(n=[{key:"setLocale",value:function(e){this.isValidLocaleKey(e)&&(this.currentLocale=e,this.updateHTMLLocale(),this.updatePagesLocale())}},{key:"updatePagesLocale",value:function(){var e=this;this.controller.pageIDs.forEach((function(t){e.controller.pagesByID[t].updateLocaleLanguageTexts()}))}},{key:"updateHTMLLocale",value:function(){for(var e=document.querySelectorAll(".ui > div"),t=1;t<e.length;t++){var n=e[t];this.updateHTMLLocaleByContainer(n,this.getCurrentLocaleObj())}}},{key:"updateHTMLLocaleByContainer",value:function(e,t){e.querySelectorAll("[data-lang]").forEach((function(e){var n=e.dataset.lang;n in t&&(e.innerHTML=t[n])}))}},{key:"isValidLocaleKey",value:function(e){return Object.keys(this.locales).includes(e)}},{key:"getLocaleText",value:function(e){return this.getCurrentLocaleObj()[e]}},{key:"getPageLocale",value:function(e){return this.getCurrentLocaleObj()[e]}},{key:"getLocalePageText",value:function(e,t){return this.getCurrentLocaleObj()[e][t]}},{key:"getCurrentLocaleObj",value:function(){return this.locales[this.currentLocale]}},{key:"addLocaleToElement",value:function(e,t){var n=this.getLocaleText(e);t.innerHTML=n,t.dataset.lang=e}},{key:"initLocalesSelect",value:function(){var e=this;Object.keys(this.locales).map((function(t){var n=document.createElement("option");n.value=t,n.innerHTML=e.getLocaleText("languageOption".concat(t.toUpperCase())),n.dataset.lang="languageOption".concat(t.toUpperCase()),t==e.currentLocale&&(n.selected=!0),e.localesSelect.appendChild(n)})),this.localesSelect.value=this.currentLocale,this.localesSelect.addEventListener("change",(function(t){var n=t.target.value;e.setLocale(n)}))}},{key:"getCurrentPageLocale",value:function(){return parent.document.documentElement.lang}}])&&Le(t.prototype,n),e}();function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Be=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.pageIDs=[],this.pagesByID={},this.currentPage=null,this.isResizing=!1,this.locale=new Ae(this,t.locale),this.theme=new xe(this,t.themes),this.movables=new F(this),this.data=new x(this),this.timeline=new v(this),this.ui=new f(this),this.form=new ke(this),this.iframeContainer=window.parent.document.getElementById(this.settings.iframeContainerID);var n=this.onResize.bind(this);window.addEventListener("resize",n)}var t,n;return t=e,(n=[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pagesByID.length<=0)throw new Error("can't init without at least registering one animation page");e=e||this.pageIDs[0],this.setCurrentPage(e),this.resizeIFrameContainer()}},{key:"resizeIFrameContainer",value:function(){var e=this.iframeContainer.getBoundingClientRect().width;this.iframeContainer.style.height=e<=900?window.parent.innerHeight+"px":document.body.scrollHeight+"px"}},{key:"onResize",value:function(e){this.resizeIFrameContainer(),this.ui.onResizeStart(),this.isResizing=!0,this.timeline.onResize()}},{key:"hideCurrentPage",value:function(){this.pagesByID[this.currentPage].hide()}},{key:"hideAllPages",value:function(){var e=this;this.pageIDs.map((function(t){e.pagesByID[t].hide()}))}},{key:"setCurrentPage",value:function(e){this.currentPage=e,this.ui.updateCurrentPageUI(e)}},{key:"play",value:function(){this.timeline.play()}},{key:"pause",value:function(){this.timeline.pause()}},{key:"goToFirstPage",value:function(){this.timeline.tl.seek("".concat(this.pageIDs[0],"-animation-main"),!1)}},{key:"registerAnimationPage",value:function(e,t){var n=new e;n.initPage(t,this),this.pageIDs.push(t),this.pagesByID[t]=n,n.hide(),this.ui.addInfoText(t)}},{key:"buildTimeline",value:function(){this.movables.resetMovedElement(),this.timeline.createTimeline(),this.movables.resetMovedElement(),this.ui.recreateNavigation()}}])&&Pe(t.prototype,n),e}(),Ce={de:JSON.parse('{"playButtonTooltip":"Wiedergabe / Pause","jumpForwardsTooltip":"Vorwärts springen","jumpBackwardsTooltip":"Zurück springen","settingsButtonTooltip":"Einstellungen","settingsCloseBtn":"Schließen","infoButtLabel":"Info","navigationButtonLabel":"Navigation","formButtonLabel":"Eingabe","settingsTitle":"Einstellungen","settingsThemeLabel":"Theme:","settingsJumpLabel":"Sprungweite (sekunden)","settingsLanguageLabel":"Sprache","settingsNotice":"Wenn Sie nochmal auf das Zahnrad klicken, kommen Sie zurück in die Animation.","settingsNoticeJump":"Setzt die Sprungweite in der Animations-Timeline für die Steuerungsknöpfe \\"Zurück springen\\" und \\"Vorwärts springen\\".","settingsInfo":"<p>Das User-Interface dieser Animation besteht aus einem Anzeigefeld, welches die Animation darstellt. Unter dieser befindet sich eine Bedienungsleiste, in der sich die Animation starten/stoppen lässt, sowie Knöpfe um direkt zu einzelnen Animations-Seiten zu gelangen. Ebenso sind ein \\"Vorwärtsspringen\\" und ein \\"Rückwärtsspringen\\" Knopf vorhanden. Diese erlauben es sich direkt, in den eingestellten Sekundensprüngen, über die Seitengrenzen hinweg durch die Animations-Timeline zu bewegen.</p><p>Unter der Bedienungsleiste befindet sich noch ein Abschnitt mit einem Info-Text zu der jeweils angezeigten Seite, und ganz unten ein Formular zur Eingabe der Parameter und der Nachricht, die in der Animation benutzt werden, und zur Ausgabe.</p>","themeOptionDefault":"Default","themeOptionNew":"Theme 2","languageOptionEN":"Englisch","languageOptionDE":"Deutsch","formTitle":"Rijndael-Animation: Verwendete Daten","formSelectInputOne":"Plaintext eingeben in ","formSelectInputTwo":"oder in ","formInfo":"Veränderungen werden in der Animation gezeigt. Probiere es aus!","plaintextLabel":"Klartext (Eingabe in ASCII)","plaintextHexadecimalLabel":"Klartext (in hex)","plaintextHexadecimalLabelTwo":"Klartext (Eingabe in hex)","keyLabel":"Schlüssel (Eingabe in hex)","outputLabel":"Geheimtext (Ausgabe in hex)","encryptButtonLabel":"Verschlüsseln","formErrorMessage":"Der Schlüssel muss aus 32 hexadezimalen Zeichen bestehen.","formErrorPlaintextNotEmpty":"Die Eingabe darf nicht leer sein.","formErrorKeyNotEmpty":"Der Schlüssel darf nicht leer sein.","page-1-title":"Seite 1: Rijndael-Animation Intro","page-1-info":"<p>Diese Animation gibt einen Überblick über die Funktionsweise des AES-Rijndael-Algorithmus. Die unten eingegebenen Daten werden dynamisch verarbeitet. Die Animation behandelt dann die Verschlüsselung des ersten Klartext-Blocks. Für Eingaben länger als ein Block werden die folge Blöcke im ECB-Modus berechnet und im Feld \\"Ausgabe (Geheimtext in hex)\\" angezeigt.</p><p>Über das Zahnrad kommen Sie zu den Einstellungen, wo Sie zwischen deutsch und englisch umschalten können. In dieser Animation haben sowohl der Datenblock als auch der Schlüssel eine Länge von 128 bit. Für einen tieferen Einblick in die Mathematik hinter dem Algorithmus konsultieren Sie bitte die entsprechende Literatur.</p><p>Zum Einstieg können Sie sich anschauen: <a href=\'https://de.wikipedia.org/wiki/Advanced_Encryption_Standard\'>https://de.wikipedia.org/wiki/Advanced_Encryption_Standard</a></p><p>Eine weitere Darstellung von AES bietet auch: <a href=\'https://www.cryptool.org/de/cto/aes-step-by-step\'>https://www.cryptool.org/de/cto/aes-step-by-step</a></p><p>Diese Animation wurde ursprünglich von Enrique Zabala in Flash implementiert, zuerst für seine Masterarbeit und dann erweitert für das CrypTool-Projekt. Hier ist diese Animation mit einer modernen Web-Technologie (PixiJS) implementiert worden. Außerdem sind die Daten der Animation hier nicht fest verdrahtet, sondern nutzen dynamisch die Werte aus der Eingabe.</p>","page-2-title":"Seite 2: Übersicht über die Verschlüsselung","page-2-info":"<p>Der Advanced Encryption Standard (AES) ist auch unter seinem ursprünglichen Namen Rijndael bekannt. Es handelt sich um eine symmetrische Blockchiffre. Auf dieser Seite werden die Eingaben, Klartext und Hauptschlüssel (cipher key), und die Ausgaben, Chiffretext, des Rijndael-Verschlüsselungsverfahrens angezeigt.</p>","page-3-title":"Seite 3: Verschlüsselungsverfahren und Hauptschlüssel","page-3-info":"<p>AES ist eine Untermenge der Rijndael-Blockchiffre. Während der Rijndael-Algorithmus eine Reihe von Schlüssel- und Blockgrößen zulässt (128, 160, 192, 224, 256 Bit), ist AES nicht so flexibel. AES hat eine feste Blocklänge von 128 Bit und lässt nur 128, 192 und 256 Bit als Schlüssellänge zu.</p><p>Der Zustand und der Schlüssel können als rechteckiges Feld von Bytes dargestellt werden. Während die Länge des Zustands/Schlüssels geteilt durch 32 die Anzahl der Spalten bestimmt, besteht jede Spalte immer aus 4 Bytes. Die Anzahl der Spalten im Status wird üblicherweise als Nb und die Anzahl der Spalten im Hauptschlüssel als Nk bezeichnet. Diese Spalten werden manchmal auch als Wörter bezeichnet.</p><p>Da wir in dieser Animation sowohl für den Zustand als auch für den Schlüssel eine Länge von 128 Bit verwenden, sind Nb und Nk in diesem Fall jeweils 4. Die sich ergebenden Arrays können daher als vier mal vier Tabellen dargestellt werden, wobei die Byte-Werte in hexadezimaler Schreibweise angegeben werden.</p><p>Der Übersichtlichkeit halber werden der Verschlüsselungsvorgang und die Erstellung der Rundenschlüssel in getrennten Abschnitten dargestellt. Da der eigentliche Verschlüsselungsvorgang für die meisten Menschen der interessantere Teil ist, wird dieser zuerst in Teil A behandelt.</p>","page-4-title":"Seite 4: A) Verschlüsselungsprozess","page-4-info":"<p>In diesem Abschnitt werden der Verschlüsselungsprozess und seine Vorgänge erläutert. Der Entschlüsselungsprozess funktioniert in umgekehrter Weise sehr ähnlich.</p>","page-5-title":"Seite 5: Übersicht über den Verschlüsselungsprozess","page-5-info":"<p>Die AES-Rijndael-Verschlüsselung ist ein iterativer Prozess. Die Anzahl der Runden hängt von der Schlüssellänge ab.</p><ul><li>10 Runden für 128-Bit-Schlüssel.</li><li>12 Runden für 192-Bit-Schlüssel.</li><li>14 Runden für 256-Bit-Schlüssel.</li></ul><p>Bei jeder der Iterationen, mit Ausnahme der letzten, werden dieselben vier Operationen in der folgenden Reihenfolge durchgeführt:</p><ul><li>SubBytes</li><li>ShiftRows</li><li>MixColumns</li><li>AddRoundKey</li></ul><p>In der letzten Runde wird der Schritt \'MixColumns\' übersprungen. Außerdem gibt es zu Beginn eine erste Runde, in der nur die Operation AddRoundKey durchgeführt wird.</p>","page-6-title":"Seite 6: Transformationstypen","page-6-info":"<p>Auf den folgenden Seiten (Seite 7-10) werden die vier Transformationen behandelt, die der AES-Rijndael-Algorithmus verwendet. Diese Operationen sind SubBytes, ShiftRows, MixColumns und AddRoundKey.</p>","page-7-title":"Seite 7: SubBytes","page-7-info":"<p>Bei der SubBytes-Transformation wird jedes Byte im Status durch eine 8-Bit-Substitutionsbox ersetzt, die gemeinhin als S-Box bezeichnet wird. Die Verwendung der S-Box sorgt für die Nichtlinearität in der Chiffre.</p><p>Um diesen Schritt umzukehren, wird bei der Entschlüsselung die Umkehrung der S-Box verwendet.</p>","page-8-title":"Seite 8: ShiftRows","page-8-info":"<p>Bei der ShiftRows-Transformation werden die Bytes jeder Zeile um einen bestimmten Offset verschoben. Die erste Zeile wird immer unverändert gelassen, während der Offset für die Zeilen zwei bis vier von der Blocklänge abhängt.</p><p>Bei einer Blocklänge von 128 Bit (4 Nb) werden die Bytes in den Zeilen zwei, drei und vier jeweils um eins, zwei und drei verschoben.</p><p>Die Verschiebung der Zeilen um diese vordefinierten Offsets erzeugt eine Ausgabe, bei der jede Spalte des Ausgangszustands Bytes aus jeder Spalte des Eingangszustands enthält.</p><p>Mit diesem Schritt soll sichergestellt werden, dass die Spalten nicht unabhängig voneinander verschlüsselt werden.</p>","page-9-title":"Seite 9: MixColumns","page-9-info":"<p>Bei der MixColumns-Transformation werden die vier Bytes jeder Spalte des Zustands durch eine invertierbare lineare Transformation kombiniert. Die Funktion MixColumns nimmt vier Bytes als Eingabe und gibt vier Bytes aus. Zusammen mit ShiftRows sorgt MixColumns für Diffusion in dieser Chiffre.</p>","page-10-title":"Seite 10: AddRoundKey","page-10-info":"<p>Bei der AddRoundKey-Transformation wird ein Rundschlüssel durch ein einfaches bitweises XOR auf den Zustand angewendet.</p><p>Dieser Rundschlüssel wurde durch Erweiterung des Schlüssels vor dem Verschlüsselungs-/Entschlüsselungsprozess erstellt (mehr dazu ab Seite 13). Er wird aus dem Hauptschlüssel abgeleitet und ist genauso groß wie die Blocklänge.</p>","page-11-title":"Seite 11: Runden 1 - 5","page-11-info":"<p>Auf dieser Seite werden die Zustände nach jeder Transformation während der Iterationen 1 bis 5 des Verschlüsselungsprozesses angezeigt.</p>","page-12-title":"Seite 12: Runden 6 - 10","page-12-info":"<p>Diese Seite zeigt die Zustände nach jeder Transformation während der Iterationen 6 bis 10 des Verschlüsselungsprozesses sowie die endgültige Ausgabe für den ersten Block.</p>","page-13-title":"Seite 13: B) Hauptschlüssel","page-13-info":"<p>Der gegebene Hauptschlüssel wird erweitert, um Rundenschlüssel zu erstellen, die in jeder Iteration des Verschlüsselungs-/Entschlüsselungsprozesses verwendet werden. Die Anzahl der Rundenschlüssel ist gleich der Anzahl der Runden plus eins und ihre Größe hängt von der Länge des Nachrichtenblocks ab.</p>","page-14-title":"Seite 14: Schlüsselplan","page-14-info":"<p>Der Schlüsselplan ist das Mittel, mit dem der Hauptschlüssel in einen Satz von Rundschlüsseln erweitert wird. Dies geschieht vor dem Verschlüsselungs-/Entschlüsselungsprozess. Die Anzahl der resultierenden Rundenschlüssel-Bits ist gleich der Blocklänge multipliziert mit der Anzahl der Runden plus eins (hier 128 Bit * 11 = 1408 Rundenschlüssel-Bits).</p><p>Zur Erinnerung: Nb = Anzahl der Wörter im Nachrichtenblock, Nk = Anzahl der Wörter im Hauptschlüssel.</p><p>Dieser erweiterte Schlüssel ist ein Array von 4-Byte-Wörtern (W). Die ersten Nb Wörter werden mit dem Hauptschlüssel gefüllt. Die folgenden Wörter werden dann rekursiv durch Wörter mit kleineren Indizes definiert.</p><p>Die genauen Operationen, die dafür verwendet werden, hängen vom Wert von Nk ab. Es gibt zwei Gruppen von Operationen, eine für Nk ≤ 6 und eine für Nk > 6.</p><p>Jedes Wort, das auf den Hauptschlüssel folgt, wird durch eine XOR-Verknüpfung des vorherigen Wortes W[i-1] und des Wortes, das Nk Positionen vor W[i-Nk] liegt, erzeugt.</p><p>Für Wörter an Positionen, die ein Vielfaches von Nk sind, wird vor der XOR-Verknüpfung eine Transformation auf W[i-1] angewendet. Zusätzlich wird eine Rundungskonstante (Rcon) XORiert.</p><p>Die Transformation von W[i-1] besteht aus einer zyklischen Verschiebung der Bytes im Wort (RotByte), gefolgt von einem Tabellennachschlag auf alle vier Bytes des Wortes (SubBytes).</p><p>Der individuelle Rundenschlüssel (i) kann dann durch Auswahl des Unterarrays W[Nb * i] bis W[Nb * (i+1)] definiert werden.</p>","page-15-title":"Page 15: Endkarte","page-15-info":"Page 15: Endkarte","page-1":{"titlePartOne":"Rijndael","titlePartTwo":"Cipher","text":"In der Animation wurde sowohl für den Datenblock als auch für den Schlüssel eine Länge von 128 Bit angenommen."},"page-2":{"boxText":"Rijndael-Verschlüsseler","textLeft":"Hauptschlüssel","textBottom":"Geheimtext","textTop":"Klartext"},"page-3":{"title":"Input","subtitleLeft":"State","subtitleRight":"Hauptschlüssel","explanationLeft":"Dies ist ein Block vom Klartext, der verschlüsselt werden soll","explanationRight":"Hexadezimal-Darstellung (Beispiel):","textLeft":"zum Verschlüsselungs-Prozess","textRight":"zur Schlüsselgenerierung"},"page-4":{"title":"Verschlüsselungs-Prozess","text":"(Durchführung der Verschlüsselung für den gegebenen Klartextblock mit Hilfe von 4 verschiedenen Transformationen in der Initial-Runde, den 9 Haupt-Runden und in der Final-Runde)"},"page-5":{"title":"Verschlüsselungsprozess","titleInitialRound":"Initial-Runde","titleMainRounds":"9 Hauptrunden","titleFinalRound":"Final-Runde","labelInitial":"AddRoundKey","labelMrone":"1 - SubBytes","labelMrTwo":"2 - ShiftRows","labelMrThree":"3 - MixColumns","labelMrFour":"4 - addRoundKey","labelFrOne":"SubBytes","labelFrTwo":"ShiftRows","labelFrThree":"AddRoundKey","boxTitleOne":"Hauptschlüssel","boxTitleTwo":"Rundenschlüssel 0","boxTitleThree":"Rundenschlüssel 10","round":"Runde"},"page-6":{"title":"Die vier Arten der Verschlüsselungs-Transformationen:","labelOne":"1 - SubBytes","labelTwo":"2 - ShiftRows","labelThree":"3 - MixColumns","labelFour":"4 - addRoundKey"},"page-7":{"title":"1 - SubBytes","round":"Runde 1","sboxLabel":"S-Box","sboxExplanation":"Byte-Ersetzungstabelle"},"page-8":{"title":"2 - ShiftRows","rotateTextOne":"Rotation um 1 Byte","rotateTextTwo":"Rotation um 2 Bytes","rotateTextThree":"Rotation um 3 Bytes"},"page-9":{"title":"3 - MixColumns","text":"Die 4 Zahlen einer Spalte werden mit einer gegebenen Matrix modulo multipliziert in einem Rijndael-Galois-Feld","text2":"Der MixColumns-Schritt ist zusammen mit dem ShiftRows-Schritt die Hauptursache für die Diffusion in der Rijndael-Chiffre."},"page-10":{"title":"4 - AddRoundKey","roundKeyLabel":"Rundenschlüssel","roundKeyText":"(hergeleitet als Rundenschlüssel 1 bei der Schlüsselgenerierung - siehe Seite 14)"},"page-11":{"introText":"Diese vier Transformationen werden in den 9 Hauptrunden auf den Klartextblock angewandt. Die MixColumns-Transformation wird in der Final-Runde nicht benutzt.","roundLabel":"Start der Runde","subBytesLabel":"Nach SubBytes","ShiftRowsLabel":"Nach ShiftRows","MixColumnsLabel":"Nach MixColumns","RoundKeyLabel":"Runden-Schlüssel","inputLabel":"Input","roundOneLabel":"Runde 1","roundTwoLabel":"Runde 2","roundThreeLabel":"Runde 3","roundFourLabel":"Runde 4","roundFiveLabel":"Runde 5"},"page-12":{"roundLabel":"Start der Runde","subBytesLabel":"Nach SubBytes","ShiftRowsLabel":"Nach ShiftRows","MixColumnsLabel":"Nach MixColumns","RoundKeyLabel":"Runden-Schlüssel","outputLabel":"Output","roundSixLabel":"Runde 6","roundSevenLabel":"Runde 7","roundEightLabel":"Runde 8","roundNineLabel":"Runde 9","roundTenLabel":"Runde 10","cipherTextLabel":"Geheimtext"},"page-13":{"title":"Schlüsselgenerierung","text":"(Expandierung des gegebenen Hauptschlüssels in 11 Teilschlüssel, die in der Initial-Runde, den 9 Haupt-Runden und in der Final-Runde benutzt werden)"},"page-14":{"title":"Schlüsselgenerierung","RotWordLabel":"RotWord","RconLabel":"Rcon","SubBytesLabel":"SubBytes","SBoxLabel":"S-Box","WOne":"W<sub>i-4</sub>","WTwo":"W<sub>i-1</sub>","WThree":"W<sub>i</sub>","RconFourLabel":"Rcon(4)","textIntro":"Der expandierte Schlüssel kann als Vektor von 32-Bit-Worten (Spalten) betrachtet werden. Die Indizes der Spalten W<sub>i</sub> laufen von 0 bis 43. Die ersten vier Spalten werden mit dem gegebenen Hauptschlüssel gefüllt.","text":"Die Worte auf durch 4 teilbaren Positionen (W<sub>4</sub>, W<sub>8</sub>,...,W<sub>40</sub>) werden folgendermaßen berechnet:","textA":"a) Anwenden der Funktion RotWord und der Transformation SubBytes auf das vorausgehende Wort W<sub>i-1</sub>.","textB":"b) Mit der XOR-Funktion das erste Ergebnis mit dem Vorgängerwort w<sub>i-4</sub> verknüpfen. Danach die XOR-Funktion auf das folgende Ergebnis und auf Elemente der Rundenkonstante Rcon anwenden","textXOR":"Die restlichen 32-Bit-Worte w<sub>i</sub> werden berechnet, indem das jeweilige Vorgängerwort W<sub>i-1</sub> XOR-verknüpft wird mit dem Wort W<sub>i-4</sub> vier Positonen vorher.","cipherKeyLabel":"Hauptschlüssel","roundKeyOneLabel":"Rundenschlüssel 1","roundKeyTwoLabel":"Rundenschlüssel 2","roundKeyThreeLabel":"Rundenschlüssel 3","roundKeyTenLabel":"Rundenschlüssel 10"},"page-15":{"finishOverlayBackToEncryption":"Verschlüsselungsprozess erneut anschauen","finishOverlayBackToKeySchedule":"Schlüsselplanerstellung erneut anschauen","finishOverlayBackToStart":"Animation neu starten","encryptionTitle":"Seite 4: A) Verschlüsselungsprozess","keyScheduleTitle":"Seite 13: B) Hauptschlüssel"}}'),en:JSON.parse('{"playButtonTooltip":"Play / pause","jumpForwardsTooltip":"Jump forwards","jumpBackwardsTooltip":"Jump backwards","settingsButtonTooltip":"Settings","settingsCloseBtn":"Close","infoButtLabel":"Info","navigationButtonLabel":"Navigation","formButtonLabel":"Input","settingsTitle":"Settings","settingsThemeLabel":"Theme:","settingsJumpLabel":"Jump duration (seconds)","settingsLanguageLabel":"Language","settingsNotice":"If you click on the gear again, you will return to the animation.","settingsNoticeJump":"Sets the jump distance in the animation timeline for the control buttons \\"Jump backwards\\" and \\"Jump forwards\\".","settingsInfo":"<p>The user interface of this animation consists of a animation display field that shows the animation. Below this is a control bar where the animation can be started/stopped, as well as buttons to go directly to individual animation pages. There is also a \\"jump forwards\\" and a \\"jump backwards\\" button. These allow you to move directly across the page boundaries through the animation timeline in the set second jumps.</p><p>Below the control bar there is another section with an info text about the page displayed in each case, and at the very bottom a form for entering the parameters and the message, used in the animation, and for the output.</p>","themeOptionDefault":"Default","themeOptionNew":"Theme 2","languageOptionEN":"English","languageOptionDE":"German","formTitle":"Rijndael Animation Data","formSelectInputOne":"Enter message in ","formSelectInputTwo":"or in ","formInfo":"Updating the data  below changes the animation. Try it out!","plaintextLabel":"Plaintext (Input in ASCII)","plaintextHexadecimalLabel":"Plaintext (in hex)","plaintextHexadecimalLabelTwo":"Plaintext (Input in hex)","keyLabel":"Key (Input in hex)","outputLabel":"Ciphertext (Output in hex)","encryptButtonLabel":"Encrypt","formErrorMessage":"Key must be 32 char hexadecimal.","formErrorPlaintextNotEmpty":"The input must not be empty.","formErrorKeyNotEmpty":"The key must not be empty.","page-1-title":"Page 1: Rijndael Animation Intro","page-1-info":"<p>This animation gives a high-level overview of the inner workings of the AES Rijndael algorithm. The data entered below will be processed dynamically. The animation then visualizes the encryption of the first plaintext block. For inputs longer than one block, the blocks are calculated in ECB mode and displayed in the \\"Output (ciphertext in hex)\\" field.</p><p>The gear wheel takes you to the settings, where you can switch between German and English. It uses a size of 128 bit for both, the data block and the key. For an in-depth look at the mathematics behind the algorithm please consult the according literature.</p><p>For a start have a look at: <a href=\'https://en.wikipedia.org/wiki/Advanced_Encryption_Standard\'>https://en.wikipedia.org/wiki/Advanced_Encryption_Standard</a></p><p>Another presentation of AES can be found at: <a href=\'https://www.cryptool.org/en/cto/aes-step-by-step\'>https://www.cryptool.org/en/cto/aes-step-by-step</a></p><p>This animation was originally implemented in Flash by Enrique Zabala, first for his master thesis and then extended for the CrypTool project. Here, this animation has been implemented using a modern web technology (PixiJS). Also, the animation data here is not hardwired, but dynamically uses the values from the input.</p>","page-2-title":"Page 2: Encryption Overview","page-2-info":"<p>The Advanced Encryption Standard (AES) is also known by its original name Rijndael. It is a symmetric block cipher. This page displays the inputs (plaintext and cipher key) and output (ciphertext) of the Rijndael encryption process.</p>","page-3-title":"Page 3: Encryption Process and Cipher Key","page-3-info":"<p>AES is a subset of the Rijndael block cipher. While the Rijndael algorithm allows for a range of key and block sizes (128, 160, 192, 224, 256 bit), AES is not that flexible. AES has a fixed block length of 128 bit and only allows 128, 192, and 256 bits as key lengths.</p><p>The state and key can be visualized as a rectangular array of Bytes. While the state/key length divided by 32 determines the number of columns, each column will always consist of 4 bytes. The number of columns in the state is usually denoted as Nb and the number of columns in the cipher key as Nk. These columns are also sometimes referred to as words.</p><p>As we use a 128 Bit length for both the state and the key in this animation both, Nb and Nk, in this case, are 4. The resulting arrays can thus be displayed as four by four tables, using hexadecimal notation for the byte value.</p><p> For the sake of clarity, the encryption process and the creation of the key schedule are presented in separate sections. Since the actual encryption process is the more interesting part for most people, this will be covered first in part A. In the normal process the key schedule is of course generated before the encryption process.</p>","page-4-title":"Page 4: A) Encryption Process","page-4-info":"<p>This section explains the encryption process and its operations. The decryption process works very similar in an inverted manner.</p>","page-5-title":"Page 5: Encryption Process Overview","page-5-info":"<p>The AES Rijndael encryption is an iterative process. The amount of rounds depends on the key length.</p><ul><li>10 rounds for 128-bit keys.</li><li>12 rounds for 192-bit keys.</li><li>14 rounds for 256-bit keys.</li></ul><p> Each of the iterations, except the last one, performs the same four operations in the following order:</p><ul><li>SubBytes</li><li>ShiftRows</li><li>MixColumns</li><li>AddRoundKey</li></ul><p>The last round skips the MixColumns step. Additionally, there is an initial round at the start, which only performs the AddRoundKey operation.</p>","page-6-title":"Page 6: Transformation Types","page-6-info":"<p>The following pages (pages 7-10) cover the four transformations the AES Rijndael algorithm uses. These operations are SubBytes, ShiftRows, MixColumns, and AddRoundKey.</p> ","page-7-title":"Page 7: SubBytes","page-7-info":"<p>The SubBytes transformation replaces each byte in the state using an 8-bit substitution box, commonly referred to as S-Box. Using the S-Box provides the non-linearity in the cipher. To reverse this step, the inverse of the S-Box is used in the decryption process. </p>","page-8-title":"Page 8: ShiftRows","page-8-info":"<p>In the ShiftRows transformation, the Bytes of each row are shifted by a given offset. The first row is always left unchanged, while the offset for rows two to four depends on the block length. </p><p>For a block length of 128 bit (4 Nb) the bytes in rows two, three, and four are shifted by one, two, and three respectively. </p></p>Shifting the rows by these pre-defined offsets creates an output in which each column of the output state contains bytes from each column of the input state. </p><p>The goal of this step is to ensure that the columns are not encrypted independently.</p>","page-9-title":"Page 9: MixColumns","page-9-info":"<p>In the MixColumns transformation, the four bytes of each column of the state are combined using an invertible linear transformation. The Mix columns function takes four bytes as an input and outputs four bytes. Together with ShiftRows, MixColumns provides diffusion in this cipher. </p>","page-10-title":"Page 10: AddRoundKey","page-10-info":"<p>In the AddRoundKey transformation, a round key is applied to the state by a simple bitwise XOR. This round key was created by expanding the key before the encryption/decryption process (more on page 13+). It is derived from the cipher key and is equal in size to the block length.</p>","page-11-title":"Page 11: Rounds 1 - 5","page-11-info":"<p>This page displays the states after each transformation during iterations 1 to 5 of the encryption process.</p> ","page-12-title":"Page 12: Rounds 6 - 10","page-12-info":"<p>This page displays the states after each transformation during iterations 6 to 10 of the encryption process, as well as the final output for the first block.</p>","page-13-title":"Page 13: B) Key Schedule","page-13-info":"<p>The given cipher key (main key) is expanded to create round keys used in each iteration in the encryption / decryption process. The number of round keys is equal to the number of rounds plus one and their size depends on the message block\'s length. </p>","page-14-title":"Page 14: Key Expansion","page-14-info":"<p>The key schedule is the means by which the cipher key gets expanded into a set of round keys. This happens before the encryption/decryption process. The number of resulting round key bits is equal to the block length multiplied by the number of rounds plus one (here 128 bits * 11 = 1408 round key bits).</p><p>Reminder: Nb = number of words in message block, Nk = number of words in cipher key.</p><p>This expanded key is an array of 4-byte words (W). The first Nb words are filled with the cipher key. The following words are then recursively defined using words with smaller indices.</p><p>The exact operations used for this depend on the value of Nk. There are two sets of operations, one for Nk ≤ 6 and one for Nk > 6.</p><p>Each word following the cipher key gets created by using an XOR on the previous word W[i-1] and the word Nk positions earlier W[i-Nk]. </p><p>For words in positions that are a multiple of Nk, a transformation is applied to W[i-1] before the XOR. Additionally a round constant (Rcon) is XORed. </p><p>The transformation on W[i-1] consists of a cyclic shift of the bytes in the word (RotByte), followed by a table lookup to all four bytes of the word (SubBytes).</p><p>The individual round key (i) can then be defined by selecting the sub-array W[Nb * i] to W[Nb *  (i+1)].</p>","page-15-title":"Page 15: Animation Finish Card","page-15-info":"Page 15: Animation Finish Card","page-1":{"titlePartOne":"Rijndael","titlePartTwo":"Cipher","text":"The animation uses a 128 bit size for both the data block and the key"},"page-2":{"boxText":"Rijndael Encryptor","textLeft":"Cipher key","textBottom":"Ciphertext","textTop":"Plaintext"},"page-3":{"title":"Input","subtitleLeft":"State","subtitleRight":"Cipher key","explanationLeft":"This is a block from the plaintext message to be encrypted","explanationRight":"Hexadecimal notation (sample):","textLeft":"to Encryption Process","textRight":"to key Schedule"},"page-4":{"title":"Encryption Process","text":"(Performing the encryption of the given plaintext block using 4 diffrent transformation in the initial round, the 9 main rounds, and the final round)"},"page-5":{"title":"Encryption Process","titleInitialRound":"initial round","titleMainRounds":"9 main rounds","titleFinalRound":"final round","labelInitial":"AddRoundKey","labelMrone":"1 - SubBytes","labelMrTwo":"2 - ShiftRows","labelMrThree":"3 - MixColumns","labelMrFour":"4 - addRoundKey","labelFrOne":"SubBytes","labelFrTwo":"ShiftRows","labelFrThree":"AddRoundKey","boxTitleOne":"Cipher key","boxTitleTwo":"Round key 0","boxTitleThree":"Round key 10","round":"Round"},"page-6":{"title":"The 4 types of transformations:","labelone":"1 - SubBytes","labelTwo":"2 - ShiftRows","labelThree":"3 - MixColumns","labelFour":"4 - addRoundKey"},"page-7":{"title":"1 - SubBytes","round":"Round 1","sboxLabel":"S-Box","sboxExplanation":"byte substitution table"},"page-8":{"title":"2 - ShiftRows","rotateTextOne":"rotate over 2 bytes","rotateTextTwo":"rotate over 2 bytes","rotateTextThree":"rotate over 2 bytes"},"page-9":{"title":"3 - MixColumns","text":"The four numbers of one column are modulo multiplied in Rijndael\'s Galois Field by a given matrix.","text2":"The MixColumns step along wit hthe ShiftRows step is the primary source of diffusion in Rijndael."},"page-10":{"title":"4 - AddRoundKey","roundKeyLabel":"Round key","roundKeyText":"(Produced as round key 1 during the key schedule - see slide 14"},"page-11":{"introText":"These transformations are applied to the State for 9 more rounds. The final round does not include the MixColumns transformation.","roundLabel":"Start of round","subBytesLabel":"After SubBytes","ShiftRowsLabel":"After ShiftRows","MixColumnsLabel":"After MixColumns","RoundKeyLabel":"Round key","inputLabel":"Input","roundOneLabel":"Round 1","roundTwoLabel":"Round 2","roundThreeLabel":"Round 3","roundFourLabel":"Round 4","roundFiveLabel":"Round 5"},"page-12":{"roundLabel":"Start of round","subBytesLabel":"SubBytes","ShiftRowsLabel":"ShiftRows","MixColumnsLabel":"MixColumns","RoundKeyLabel":"Round key","outputLabel":"Output","roundSixLabel":"Round 6","roundSevenLabel":"Round 7","roundEightLabel":"Round 8","roundNineLabel":"Round 9","roundTenLabel":"Round 10","cipherTextLabel":"Ciphertext"},"page-13":{"title":"Key Schedule","text":"(Expansion of the given cipher key into 11 partial keys, used in the initial round, the 9 main rounds and the final round)"},"page-14":{"title":"Key Schedule","RotWordLabel":"RotWord","RconLabel":"Rcon","SubBytesLabel":"SubBytes","SBoxLabel":"S-Box","WOne":"Wi-4","WTwo":"Wi-1","WThree":"Wi","RconFourLabel":"Rcon(4)","textIntro":"The expanded key can be seen as an array of 32-bit words (columns), numbered from 0 to 43. The first four columns are filled with the given cipher key","text":"Words in positions that are multiples of 4 (W<sub>4</sub>, W<sub>8</sub>, ..., W<sub>40</sub>) are calculated by:","textA":"a) Applying the RotWord and SubBytes transformation to the previous word w<sub>i-1</sub>.","textB":"b) Adding (XOR) this result to the word 4 positions earlier w<sub>i-4</sub>, plus a round constant Rcon.","textXOR":"The remaining 32-bit words w<sub>i</sub>, are calculated by adding (XOR) the previous word w<sub>i-1</sub> with the word 4 positions earlier W<sub>i-4</sub>","cipherKeyLabel":"Cipher key","roundKeyOneLabel":"Round key 1","roundKeyTwoLabel":"Round key 2","roundKeyThreeLabel":"Round key 3","roundKeyTenLabel":"Round key 10"},"page-15":{"finishOverlayBackToEncryption":"View encryption process again","finishOverlayBackToKeySchedule":"View key schedule again","finishOverlayBackToStart":"Restart animation","encryptionTitle":"Page 4: A) Encryption Process","keyScheduleTitle":"Page 13: B) Key Schedule"}}')};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.page=null,this.FADE_IN_DURATION=1e-4,this.FADE_OUT_DURATION=1e-5,this.FADE_OUT_DELAY=3,this.autoLabelCounter=0,this.bodyReference=document.querySelector("body")}var t,n;return t=e,(n=[{key:"initPage",value:function(e,t){if(this.page=document.getElementById(e),!this.page)throw new Error("No page with id ".concat(e," found."));this.id=e,this.controller=t,this.collectPageElements(),this.init(),this.updateLocaleLanguageTexts()}},{key:"getAutoLabel",value:function(){return this.autoLabelCounter++,"".concat(this.pageID,"-label-").concat(this.autoLabelCounter)}},{key:"init",value:function(){}},{key:"collectPageElements",value:function(){var e,t="rijndael-".concat(this.id),n=(e=this.page.querySelectorAll("[id^='".concat(t,"']")),function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reduce((function(e,n){var r=n.id.replace("".concat(t,"-"),"").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));return Me(Me({},e),{},Ie({},r,n))}),{});return this.pageElements=n,n}},{key:"updateLocaleLanguageTexts",value:function(){var e=this.controller.locale.getPageLocale(this.id);this.page.querySelectorAll("[data-lang]").forEach((function(t,n){var r=t.dataset.lang;r in e&&(t.innerHTML=e[r])}))}},{key:"createUpdatePage",value:function(e){var t=this,n=i.p8.timeline({onStart:function(){t.controller.setCurrentPage(t.id)},onReverseComplete:function(){e&&t.controller.setCurrentPage(e)}});return n.to({val:0},{val:1,duration:1e-4}),n}},{key:"createPreFadeIn",value:function(){}},{key:"createAnimationMain",value:function(){}},{key:"createAnimationOut",value:function(){}},{key:"createAnimationIn",value:function(){}},{key:"createFadeIn",value:function(){var e=i.p8.timeline();return e.set(this.page,{visibility:"visible"}),e.to(this.page,{opacity:1,duration:this.FADE_IN_DURATION}),e}},{key:"createFadeOut",value:function(){var e=i.p8.timeline();return e.to(this.page,{opacity:0,delay:this.FADE_OUT_DELAY,duration:this.FADE_OUT_DURATION}),e.set(this.page,{visibility:"hidden"}),e}},{key:"moveToLanding",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=Me({duration:1},r),e.parentNode,this.controller.movables.registerMovedElement(e);var o=D(t),a=D(n),l={};l.x=o.l-a.l,l.y=o.t-a.t,l.width=o.w,l.height=o.h,l.zIndex=20;var s=i.p8.timeline({onStart:function(){n.appendChild(e)}});return s.to(e,Me(Me({},l),{},{duration:1e-5,onReverseComplete:function(){t.appendChild(e),i.p8.set(e,{x:0,y:0,width:"100%",height:"100%"})}})),s.to(e,Me({x:0,y:0,width:a.w,height:a.h},r)),s.set(e,{width:"100%",height:"100%",zIndex:5}),s}},{key:"moveToLandingAdvanced",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=Me({offsetX:0,offsetY:0},r),e.parentNode,this.controller.movables.registerMovedElement(e);var o=I(t),a=I(n),l={};l.x=o.l-a.l,l.y=o.t-a.t,l.width=o.w,l.height=o.h,l.zIndex=20;var s=i.p8.timeline({onStart:function(){n.appendChild(e)}});return s.to(e,Me(Me({},l),{},{duration:1e-5,onReverseComplete:function(){t.appendChild(e),i.p8.set(e,{x:0,y:0,width:"100%",height:"100%"})}})),s.to(e,{x:l.x/2+r.offsetX,y:l.y/2+r.offsetY,width:a.w-(a.w-o.w)/2,height:a.h-(a.h-o.h)/2}),s.to(e,{x:0,y:0,width:a.w,height:a.h,duration:1}),s.set(e,{width:"100%",height:"100%",zIndex:5}),s}},{key:"getColor",value:function(e){return getComputedStyle(this.bodyReference).getPropertyValue(e)}},{key:"moveGroup",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"label",a=i.p8.timeline();a.add(this.moveToLanding(e[0],t[0],n[0],r),o);for(var l=1;l<e.length;l++)a.add(this.moveToLanding(e[l],t[l],n[l],r),"".concat(o,"+=0"));return a}},{key:"hide",value:function(){i.p8.set(this.page,{opacity:0,visibility:"hidden"})}},{key:"subscribeTo",value:function(e,t){this.controller.data.subscribe(e,t)}},{key:"addToPageElements",value:function(e){this.pageElements=Me(Me({},this.pageElements),e)}},{key:"getPreFadeInTimeline",value:function(){var e=i.p8.timeline();return e.to({val:0},{val:1,duration:1e-4}),e}}])&&Fe(t.prototype,n),e}(),ze=function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){return o.component},(n="getComponent")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this.id=t,this.component=document.getElementById(t)};function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ge(r);if(o){var n=Ge(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ve(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).chars=[],t.init(),t}return t=a,(n=[{key:"init",value:function(){var e=this;this.component.classList.add("rijndael-animatable-text");var t=this.component.innerHTML;0==this.component.querySelectorAll("div").length&&(console.log(t),this.component.innerHTML="",t.split("").forEach((function(t){var n=document.createElement("div");n.classList.add("rijndael-animatable-text__char"),n.innerHTML=t,e.chars.push(n),e.component.appendChild(n)})))}}])&&He(t.prototype,n),a}(ze);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Je(r);if(o){var n=Je(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ze(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){}},{key:"updateLocaleLanguageTexts",value:function(){var e=this.controller.locale.getPageLocale(this.id);this.page.querySelectorAll("[data-lang]").forEach((function(t,n){var r=t.dataset.lang;r in e&&(t.innerHTML=e[r])}));var t=new Ue("rijndael-page-1-text-rijndael"),n=new Ue("rijndael-page-1-text-cipher");this.addToPageElements({rijndaelText:t,cipherText:n})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements.subtitle,t=i.p8.timeline();return t.to({val:0},{val:1,duration:1e-4}),t.set(e,{opacity:0}),t}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.rijndaelText,n=e.cipherText,r=e.subtitle,o=i.p8.timeline();return o.fromTo(t.chars,{scaleX:2,scaleY:2,opacity:0},{opacity:1,scaleX:1,scaleY:1,duration:.5,stagger:.2}),o.fromTo(n.chars,{scaleX:2,scaleY:2,opacity:0},{opacity:1,scaleX:1,scaleY:1,duration:.5,stagger:.2}),o.to(r,{opacity:1}),o}}])&&Ye(t.prototype,n),l}(Ke);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st="ARROW_TOP",ct="ARROW_BOT",ut="ARROW_RIGHT";const dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lt(r);if(o){var n=lt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return at(this,e)});function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rt(this,a),(n=i.call(this,e)).svg=null,n.path=null,n.arrowDirection=t,n.settings=tt({shortSideWidth:.5,headSize:.2,fill:"#fff",strokeWidth:1,stroke:"#fff",longSide:1e3,shortSide:500},r),n.init(),n}return t=a,(n=[{key:"init",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","100%"),e.setAttribute("height","100%");var t=this.settings,n=t.longSide,r=t.shortSide,o=t.strokeWidth,i=t.stroke,a=t.fill,l=this.arrowDirection==st||this.arrowDirection==ct?r:n,s=this.arrowDirection==st||this.arrowDirection==ct?n:r;e.setAttribute("viewBox","-0.5 -0.5 ".concat(l," ").concat(s));var c=document.createElementNS("http://www.w3.org/2000/svg","path"),u=this.getArrowPath(l,s);c.setAttribute("d",u),c.setAttribute("stroke-width",o),c.setAttribute("stroke",i),c.setAttribute("fill",a),e.appendChild(c),this.svg=e,this.path=c,this.component.appendChild(e)}},{key:"getArrowPath",value:function(e,t){switch(this.arrowDirection){case st:return this.createArrowPathTop(e,t);case ct:return this.createArrowPathBot(e,t);case"ARROW_LEFT":return this.createArrowPathLeft(e,t);case ut:return this.createArrowPathRight(e,t)}}},{key:"createArrowPathBot",value:function(e,t){var n=this.settings,r=n.shortSideWidth,o=e/2-r*e/2,i=e/2+r*e/2,a=t-n.headSize*t;return"\n            M ".concat(o," 0 V ").concat(a," H 0 L ").concat(e/2," ").concat(t," \n            L ").concat(e," ").concat(a," H ").concat(i," V 0 H ").concat(o,"\n        ")}},{key:"createArrowPathTop",value:function(e,t){var n=this.settings,r=n.shortSideWidth,o=e/2-r*e/2,i=e/2+r*e/2,a=n.headSize*t;return"\n            M ".concat(e/2," 0 L 0 ").concat(a," H ").concat(o," V ").concat(t,"\n            H ").concat(i," V ").concat(a," H ").concat(e," L ").concat(e/2," 0\n        ")}},{key:"createArrowPathLeft",value:function(e,t){var n=this.settings,r=n.shortSideWidth,o=t/2-r*t/2,i=t/2+r*t/2,a=n.headSize*t;return"\n            M 0 ".concat(t/2," L ").concat(a," ").concat(t," V ").concat(i," H ").concat(e,"\n            V ").concat(o," H ").concat(a," V 0 L 0 ").concat(heihgt/2,"\n        ")}},{key:"createArrowPathRight",value:function(e,t){var n=this.settings,r=n.shortSideWidth,o=t/2-r*t/2,i=t/2+r*t/2,a=e-n.headSize*e;return"\n            M 0 ".concat(o," V ").concat(i," H ").concat(a," V ").concat(t,"\n            L ").concat(e," ").concat(t/2," L ").concat(a," 0 V ").concat(o," \n        ")}}])&&ot(t.prototype,n),a}(ze);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bt(r);if(o){var n=bt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yt(this,e)});function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this)).FADE_OUT_DELAY=0,e}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.arrowTop,n=e.arrowBottom,r=e.arrowLeft,o=new dt(t.id,ct,{shortSideWidth:.5,headSize:.3}),i=new dt(n.id,ct,{shortSideWidth:.5,headSize:.3}),a=new dt(r.id,ut,{shortSideWidth:.5,headSize:.3});this.addToPageElements({arrowBotSVG:i,arrowTopSVG:o,arrowLeftSVG:a})}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.numTop,n=e.numBot,r=e.numLeft,o={val:0},a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],r=0;r<e;r++)n.push(s(t));return n}(20,8),l=i.p8.timeline();return l.to(o,{val:a.length-1,duration:2,repeat:2,ease:"none",onUpdate:function(){var e=Math.round(o.val);t.innerHTML=a[e],n.innerHTML=a[(e+2)%a.length],r.innerHTML=a[(e+5)%a.length]}}),l}},{key:"createAnimationOut",value:function(){var e=this.pageElements,t=e.container,n=e.arrowTopContainer,r=e.arrowBotContainer,o=e.arrowLeftContainer,a=i.p8.timeline();return a.to([n,r,o],{opacity:0}),a.to(t,{color:"#666",duration:.5,delay:.2}),a.to(t,{scale:5,duration:1.5},"<"),a}}])&&pt(t.prototype,n),l}(Ke);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tt(r);if(o){var n=Tt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kt(this,e)});function a(e,t,n,r){var o,l,s,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(e,t){var n=function(e,t,n){var r=[];return e.forEach((function(e,o){var i,a=document.createElement("div");a.id=function(e,t,n){return"string"==typeof t||t instanceof String?"".concat(t,"-").concat(n):t(e,n)}(e,t,o),(i=a.classList).add.apply(i,[].concat(C(n),["movable"])),e.appendChild(a),r.push(a)})),r}(o.cells,e,t);return new M(n,o.rows,o.cols)},(s="createMovables")in(l=jt(o=i.call(this,e)))?Object.defineProperty(l,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[s]=c,o.rows=t,o.cols=n,o.landingClasses=[].concat(vt(r),["landing"]),o.cells=[],o.init(),o}return t=a,(n=[{key:"init",value:function(){this.component.classList.add("rijndael-grid"),this.component.style.gridTemplateRows="repeat(".concat(this.rows,", 1fr)"),this.component.style.gridTemplateColumns="repeat(".concat(this.cols,", 1fr)");for(var e=0;e<this.rows;e++)for(var t=0;t<this.cols;t++){var n,r=document.createElement("div");(n=r.classList).add.apply(n,vt(this.landingClasses)),r.id="".concat(this.id,"-cell-").concat(e,"-").concat(t),this.component.appendChild(r),this.cells.push(r)}}},{key:"getRow",value:function(e){if(e<0||e>=this.rows)throw new Error("Grid Out of Bounds: row=".concat(colIndex,". Valid row indeces are 0-").concat(this.rows-1));return this.cells.slice(e*this.cols,e*this.cols+this.cols)}},{key:"getCol",value:function(e){var t=this;if(e<0||e>=this.cols)throw new Error("Grid Out of Bounds: col=".concat(e,". Valid column indeces are 0-").concat(this.cols-1));return this.cells.reduce((function(n,r,o){return o%t.cols==e?[].concat(vt(n),[r]):n}),[])}},{key:"getCell",value:function(e,t){return this.cells[e*this.cols+t]}}])&&St(t.prototype,n),a}(ze);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pt(r);if(o){var n=Pt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return At(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.gridYellow,n=e.gridBlue,r=e.arrowBlue,o=e.arrowYellow,i=new Rt(t.id,4,4,["rijndael-cell"]).createMovables("rijndael-page-3-grid-yellow",["rijndael-movable-cell","rijndael-movable-cell--alpha"]);this.subscribeTo("initial-state",i.movables);var a=new Rt(n.id,4,4,["rijndael-cell"]).createMovables("rijndael-page-3-grid-blue",["rijndael-movable-cell","rijndael-movable-cell--beta"]);this.subscribeTo("key-0",a.movables),new dt(r.id,ct),new dt(o.id,ct),this.addToPageElements({gridYellowMovables:i,gridBlueMovables:a})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.title,n=e.subtitleYellow,r=e.subtitleBlue,o=e.gridYellow,a=e.gridBlue,l=e.charA,s=e.charB,c=e.arrowBlue,u=e.arrowYellow,d=e.textBlue,f=e.textYellow,p=e.gridYellowMovables,h=e.gridBlueMovables,y=i.p8.timeline(),b=this.getColor("--grid-background-alpha"),g=this.getColor("--grid-background-beta");return y.to({val:0},{val:1,duration:1e-5}),y.set([t,n,r,o,a,l,s,c,u,d,f],{opacity:0}),y.set(p.movables,{color:b}),y.set(h.movables,{color:g}),y}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.title,n=e.subtitleYellow,r=e.subtitleBlue,o=e.gridYellow,a=e.gridBlue,l=i.p8.timeline();return l.to(t,{opacity:1}),l.to([r,n],{opacity:1}),l.to([o,a],{opacity:1}),l}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.charA,n=e.charB,r=e.arrowBlue,o=e.arrowYellow,a=e.textBlue,l=e.textYellow,s=e.gridBlueMovables,c=e.gridYellowMovables,u=i.p8.timeline();return u.to(c.getAllByCol(),{color:"#333",duration:.002,stagger:.2}),u.to(s.getAllByCol(),{color:"#333",duration:.002,stagger:.2}),u.to([r,o],{opacity:1}),u.to([a,l],{opacity:1}),u.to([t,n],{opacity:1}),u}}])&&xt(t.prototype,n),l}(Ke);function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dt(r);if(o){var n=Dt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return It(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.circledChar,n=e.title,r=e.content,o=i.p8.timeline();return o.to({val:0},{val:1,duration:1e-4}),o.set([t,n,r],{opacity:0}),o}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.circledChar,n=e.title,r=e.content,o=i.p8.timeline();return o.to([t,n],{opacity:1}),o.to([r],{opacity:1}),o}}])&&_t(t.prototype,n),l}(Ke);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?Nt(e):t}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vt(r);if(o){var n=Vt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ht(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).path=null,t.svg=null,t.info={},t.dimensions={},window.addEventListener("resize",t.onResize.bind(Nt(t))),t.redraw(),t}return t=a,(n=[{key:"onResize",value:function(){this.redraw()}},{key:"getComponentDimensions",value:function(){return this.component.getBoundingClientRect()}},{key:"getSVGPath",value:function(e,t){var n=this,r=[2,4,4],o=t/r.reduce((function(e,t){return e+t}),0),i=o*r[0],a=o*r[1],l=o*r[2],s="\n        M 0 0 V ".concat(i," V ").concat(i+a," H ").concat(e,"\n        V ").concat(i," H 0 V ").concat(t,"\n        "),c=i+3*a+l+2*e,u=[],d=function(e,t){var r=u.length>0?u[u.length-1]:null;u.push({y:e,length:t,startDist:r?r.startDist+r.length:0,progress:r?n.round((r.startDist+r.length)/c):0})};return d(0,i),d(i,a),d(i+a,a+2*e),d(i,a),d(i+a,l),this.info={width:e,height:t,totalLength:c,segments:u},s}},{key:"round",value:function(e){return Math.round(1e3*(e+Number.EPSILON))/1e3}},{key:"redraw",value:function(){this.svg&&this.component.removeChild(this.svg);var e=this.getComponentDimensions(),t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","-0.5 -0.5 ".concat(e.width,"  ").concat(e.height)),t.setAttribute("width",e.width-1),t.setAttribute("height",e.height-1);var n=document.createElementNS("http://www.w3.org/2000/svg","path"),r=this.getSVGPath(e.width,e.height);n.setAttribute("d",r),n.setAttribute("stroke-width",1),n.setAttribute("stroke","black"),n.setAttribute("fill","none"),t.appendChild(n),this.path=n,this.svg=t,this.component.appendChild(t)}}])&&zt(t.prototype,n),a}(ze);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const $t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jt(r);if(o){var n=Jt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Zt(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.svgContainer,n=e.runner,r=new Gt(t.id,300),o=new Rt(n.id,4,4,["page-5-runner-cell"]);this.counter=0,this.addToPageElements({svg:r,grid:o})}},{key:"createPreFadeIn",value:function(){var e,t=this,n=this.pageElements,r=n.animatableBackground,o=n.body,a=n.page,l=n.runner,s=n.svg,c=n.counter,u=i.p8.timeline();return u.to({val:0},{val:1,duration:1e-4}),u.set(r,{y:"100%"}),u.set([a,o],{opacity:0}),u.to(l,(qt(e={duration:1,ease:"none"},"duration",.001),qt(e,"motionPath",{path:s.path,alignOrigin:[.5,.5],align:s.path,start:0,end:0}),e)),u.call((function(){c.innerHTML=0,t.counter=0})),u}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.animatableBackgroundBar,r=e.bar,o=e.titleMask,a=e.body,l=e.page,s=r.getBoundingClientRect(),c=i.p8.timeline();return c.to(t,{y:0,duration:.8}),c.to(n,{y:s.y}),c.set(n,{opacity:0}),c.set(l,{opacity:1},"<"),c.to(o,{x:"100%"}),c.to(a,{opacity:1},this.getAutoLabel()),c}},{key:"getMotionPathDuration",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return(t-e)*n}},{key:"createAnimationMain",value:function(){var e=this,t=this.pageElements,n=t.svg,r=t.runner,o=t.labelsLast,a=t.labelsMain,l=t.labelsInit,s=t.counter,c=n.info.segments,u=i.p8.timeline();u.add(this.createSegmentWithLabelTL(0,c,r,n,l,["#4f9c81"]));for(var d=function(t){var o=1==t?10:1.5;u.add(e.createSegmentWithLabelTL(1,c,r,n,a,["#4b759c","#b86158","#e6dd65","#4f9c81"],o),"main-round-".concat(t)),u.call((function(){s.innerHTML=t})),u.add(e.createSegmentTL(2,c,r,n.path,o))},f=1;f<9;f++)d(f);return u.add(this.createSegmentWithLabelTL(3,c,r,n,a,["#4b759c","#b86158","#e6dd65","#4f9c81"]),"main-round-9"),u.call((function(){s.innerHTML=9})),u.add(this.createSegmentWithLabelTL(4,c,r,n,o,["#4b759c","#b86158","#e6dd65"]),"final-round"),u.call((function(){s.innerHTML=10})),u}},{key:"createSegmentWithLabelTL",value:function(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:10,s=o.querySelectorAll(".rijndael-rounded-label"),c=e==t.length-1?1:t[e+1].progress,u=this.getMotionPathDuration(t[e].progress,c,l),d=r.svg.getBoundingClientRect(),f=i.p8.timeline();f.add(this.createSegmentTL(e,t,n,r.path,l),"segOne");for(var p=0;p<s.length;p++){var h=s[p].getBoundingClientRect(),y=h.y-d.y-t[e].y,b=h.y-d.y-t[e].y+h.height,g=y/t[e].length*u,m=b/t[e].length*u,v=s[p].style.background;f.to(s[p],{background:a[p]||"#fff",duration:.001},"segOne+=".concat(g)),f.to(s[p],{background:v,duration:.001},"segOne+=".concat(m))}return f}},{key:"createSegmentTL",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=i.p8.timeline(),l=e==t.length-1?1:t[e+1].progress,s=this.getMotionPathDuration(t[e].progress,l,o);return a.to(n,{motionPath:{path:r,alignOrigin:[.5,.5],align:r,start:t[e].progress,end:l},duration:s,ease:"none"},"segment-".concat(e+1)),a}}])&&Yt(t.prototype,n),l}(Ke);function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rn(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=on(r);if(o){var n=on(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return rn(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){var e,t=this.pageElements,n=(t.title,t.labelContainer);this.addToPageElements({labels:(e=n.querySelectorAll(".rijndael-rounded-label"),function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.title,n=e.labelContainer,r=(e.labels,i.p8.timeline());return r.to({val:0},{val:1,duration:1e-5}),r.set([n,t],{x:"-200",opacity:1}),r.set(n,{scale:.5}),r}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.title,n=e.labelContainer,r=(e.labels,i.p8.timeline({}));return r.to([n,t],{x:0,opacity:1,duration:1.5},this.getAutoLabel()),r.to(n,{scale:1,duration:1.5},"<",this.getAutoLabel()),r}}])&&tn(t.prototype,n),l}(Ke);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e){return function(e){if(Array.isArray(e))return cn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pn(r);if(o){var n=pn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fn(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).grid=null,t.gridMovables=null,t.init(),t}return t=a,(n=[{key:"init",value:function(){this.component.classList.add("rijndael-lookup-table");var e=document.createElement("div");e.classList.add("rijndael-lookup-table__title"),e.innerHTML="hex";var t=this.createLegend("x",["rijndael-lookup-table__legend--x"]),n=this.createLegend("y",["rijndael-lookup-table__legend--y"]),r=document.createElement("div");r.id="".concat(this.id,"-grid"),this.component.appendChild(e),this.component.appendChild(n),this.component.appendChild(t),this.component.appendChild(r),this.grid=new Rt(r.id,16,16,["rijndael-hex-grid-cell"]),this.gridMovables=this.grid.createMovables("".concat(this.id,"-grid-movables"),["rijndael-sbox-cell"])}},{key:"createLegend",value:function(e,t){var n;t=["rijndael-lookup-table__legend"].concat(sn(t));var r=document.createElement("div");(n=r.classList).add.apply(n,sn(t));var o=document.createElement("div");o.classList.add("rijndael-lookup-table__legend-label"),o.innerHTML=e;var i=document.createElement("div");i.classList.add("rijndael-lookup-table__legend-cells");for(var a=0;a<16;a++){var l=document.createElement("div");l.classList.add("rijndael-lookup-table__legend-cell"),l.innerHTML=Number(a).toString(16).slice(-2).toUpperCase(),i.appendChild(l)}return r.appendChild(o),r.appendChild(i),r}},{key:"getCell",value:function(e,t){return this.grid.getCell(e,t)}},{key:"getRow",value:function(e){return this.grid.getRow(e)}},{key:"getCol",value:function(e){return this.grid.getRow(e)}}])&&un(t.prototype,n),a}(ze);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sn(r);if(o){var n=Sn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wn(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.grid,n=e.sbox,r=new Rt(t.id,4,4,["rijndael-cell"]),o=r.createMovables("page-7-grid-movables",["rijndael-movable-cell","rijndael-movable-cell--alpha"]);this.subscribeTo("after-initial-round",o.movables);var i=r.createMovables("page-7-result-movables",["rijndael-movable-cell","rijndael-movable-cell--gamma"]);this.subscribeTo("after-sub-bytes-1",i.movables);var a=new hn(n.id);this.subscribeTo("sbox",a.gridMovables.movables),this.addToPageElements({gridLandings:r,gridMovables:o,sbox:n,SBoxController:a,gridResultsMovables:i})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.body,r=e.page,o=e.gridResultsMovables,i=this.getPreFadeInTimeline();return i.set(this.page,{opacity:0}),i.set(t,{y:"100%"}),i.set([r,n].concat(bn(o.movables)),{opacity:0}),i}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.animatableBackgroundBar,r=e.bar,o=e.titleMask,a=e.body,l=e.page,s=r.getBoundingClientRect(),c=i.p8.timeline();return c.to(t,{y:0,duration:.8}),c.to(n,{y:s.y}),c.set(n,{opacity:0}),c.set(l,{opacity:1},"<"),c.to(o,{x:"100%"}),c.to(a,{opacity:1}),c}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.gridMovables,n=e.cellLanding,r=e.SBoxController,o=e.gridResultsMovables,a=e.gridLandings,l=t.get(0,0).innerHTML,s=be(l[0]),c=be(l[1]),u=r.gridMovables.getRow(s),d=r.gridMovables.getCol(c),f=r.grid.getCell(s,c),p=i.p8.timeline();p.set(t.movables,{opacity:1}),p.add(this.moveToLanding(t.get(0,0),a.cells[0],n,{duration:1})),p.to(u,{background:"#FFF997"}),p.to(d,{background:"#FFF997"}),p.add(this.moveToLanding(o.movables[0],a.cells[0],f,{duration:1e-4})),p.set(o.movables[0],{opacity:0}),p.to(o.movables[0],{opacity:1}),p.to([].concat(bn(u),bn(d)),{background:"#fff"}),p.add(this.moveToLanding(o.movables[0],f,a.cells[0],{duration:2}),"page-7-move-cell-back"),p.to(t.get(0,0),{opacity:0},"<");for(var h=1;h<o.movables.length;h++){var y=t.movables[h].innerHTML,b=be(y[0]),g=be(y[1]),m=r.gridMovables.get(b,g);p.to(m,{background:"#FFCA61",duration:.02,delay:.5}),p.to(o.movables[h],{opacity:1,duration:.02},"<"),p.to(m,{background:"#fff",duration:.02,delay:.4})}return p}}])&&mn(t.prototype,n),l}(Ke);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=En(r);if(o){var n=En(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rn(this,e)});function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this)).FADE_OUT_DELAY=0,e}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements.grid,t=new Rt(e.id,4,4,["rijndael-cell"]),n=t.createMovables("grid-page-8",["rijndael-movable-cell","rijndael-movable-cell--alpha"]);this.subscribeTo("after-sub-bytes-1",n.movables),this.addToPageElements({gridLandings:t,gridMovables:n})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.body,r=e.page,o=e.textOne,i=e.textTwo,a=e.textThree,l=this.getPreFadeInTimeline();return l.set(this.page,{opacity:0}),l.set(t,{y:"100%"}),l.set([r,n,o,i,a],{opacity:0}),l}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.animatableBackgroundBar,r=e.bar,o=e.titleMask,a=e.body,l=e.page,s=e.gridMovables,c=e.gridLandings,u=r.getBoundingClientRect(),d=i.p8.timeline();return d.to(t,{y:0,duration:.8},this.getAutoLabel()),d.to(n,{y:u.y},this.getAutoLabel()),d.set(n,{opacity:0},this.getAutoLabel()),d.set(l,{opacity:1},"<"),d.to(o,{x:"100%"},this.getAutoLabel()),d.set(s.movables,{opacity:0,y:function(e,t){var n=c.cells[e];return i.p8.getProperty(n,"y")+100}}),d.to(a,{opacity:1},this.getAutoLabel()),d.to(s.movables,{opacity:1,y:0},this.getAutoLabel()),d}},{key:"shiftRow",value:function(e,t){var n=i.p8.timeline();return n.add(this.moveToLandingAdvanced(e[0],t[0],t[3],{offsetY:-100}),"shift"),n.add(this.moveToLanding(e[1],t[1],t[0]),"shift+=.5"),n.add(this.moveToLanding(e[2],t[2],t[1]),"shift+=.5"),n.add(this.moveToLanding(e[3],t[3],t[2]),"shift+=.5"),n}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.gridLandings,n=e.gridMovables,r=e.textOne,o=e.textTwo,a=e.textThree,l=i.p8.timeline();return l.set(n.movables,{opacity:1,y:0},this.getAutoLabel()),l.to(r,{opacity:1},this.getAutoLabel()),l.add(this.shiftRow(n.getRow(1),t.getRow(1))),l.to(r,{opacity:0}),l.to(o,{opacity:1},"<"),l.add(this.shiftRow(n.getRow(2),t.getRow(2))),l.add(this.shiftRow(c(n.getRow(2),1),t.getRow(2))),l.to(o,{opacity:0}),l.to(a,{opacity:1},"<"),l.add(this.shiftRow(n.getRow(3),t.getRow(3))),l.add(this.shiftRow(c(n.getRow(3),1),t.getRow(3))),l.add(this.shiftRow(c(n.getRow(3),2),t.getRow(3))),l.to(a,{opacity:0}),l}},{key:"createAnimationOut",value:function(){var e=this.pageElements,t=e.gridMovables,n=e.gridLandings,r=i.p8.timeline();return r.to(t.movables,{delay:1,opacity:0,y:function(e,t){var r=n.cells[e];return i.p8.getProperty(r,"y")+100}}),r}}])&&jn(t.prototype,n),l}(Ke);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e){return function(e){if(Array.isArray(e))return Pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _n(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mn(r);if(o){var n=Mn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _n(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.grid,n=e.equationResult,r=e.equationMultiplier,o=e.galoisField,i=new Rt(t.id,4,4,["rijndael-cell"]),a=i.createMovables("grid-page-9-yellow",["rijndael-movable-cell","rijndael-movable-cell--alpha"]),l=i.createMovables("grid-page-9-pink",["rijndael-movable-cell","rijndael-movable-cell--delta"]);this.subscribeTo("after-shift-rows-1",a.movables),this.subscribeTo("after-mix-columns-1",l.movables);var s=new Rt(o.id,4,4,["rijndael-cell"]).createMovables("grid-page-9-galois",["rijndael-movable-cell"]);this.subscribeTo("galois-field",s.movables);var c=new Rt(n.id,4,1,["rijndael-cell","rijndael-cell--big"]),u=new Rt(r.id,4,1,["rijndael-cell"]);this.addToPageElements({gridMovablesPink:l,gridMovablesYellow:a,gridLandings:i,equationResultLandings:c,equationMultiplierLandings:u})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.body,r=e.page,o=e.gridMovablesPink,a=(e.equationResultLandings,e.gridMovablesYellow),l=(e.equationMultiplier,e.equalsSymbol),s=e.multiplierSymbol,c=e.galoisField,u=e.textOne,d=e.textTwo,f=i.p8.timeline();return f.to({val:0},{val:1,duration:1e-4}),f.set(this.page,{opacity:0}),f.set(t,{y:"100%"}),f.set([r,n,u,d],{opacity:0}),f.set([].concat(An(o.movables),An(a.movables),[s,l,c]),{opacity:0}),f}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.animatableBackgroundBar,r=e.bar,o=e.titleMask,a=e.body,l=e.page,s=e.gridMovablesYellow,c=e.gridMovablesPink,u=e.gridLandings,d=r.getBoundingClientRect(),f=i.p8.timeline();return f.to(t,{y:0,duration:.8}),f.to(n,{y:d.y}),f.set(n,{opacity:0}),f.set(l,{opacity:1},"<"),f.to(o,{x:"100%"}),f.set(s.movables,{y:function(e,t){var n=u.cells[e];return i.p8.getProperty(n,"y")-100}}),f.to(a,{opacity:1}),f.to(s.movables,{opacity:1,y:0}),f.to(c.movables,{y:0}),f}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.textOne,n=e.textTwo,r=e.gridMovablesPink,o=e.gridMovablesYellow,a=e.equationResultLandings,l=e.equationMultiplierLandings,s=e.gridLandings,c=e.galoisField,u=e.equalsSymbol,d=e.multiplierSymbol,f=i.p8.timeline();return f.set(r.movables,{opacity:0}),f.add(this.moveGroup(o.getCol(0),s.getCol(0),l.cells,{duration:1})),f.to([c,d],{opacity:1}),f.to(t,{opacity:1}),f.to(u,{opacity:1,delay:3}),f.add(this.moveGroup(r.getCol(0),s.getCol(0),a.cells,{duration:1e-4})),f.to(r.getCol(0),{opacity:1,duration:.5}),f.add(this.moveGroup(r.getCol(0),a.cells,s.getCol(0),{duration:1})),f.to([t,c,u,d].concat(An(o.getCol(0))),{opacity:0},"<"),f.to(n,{opacity:1}),f.to(r.getCol(1),{opacity:1}),f.to(r.getCol(2),{opacity:1}),f.to(r.getCol(3),{opacity:1}),f}},{key:"createAnimationOut",value:function(){var e=this.pageElements,t=e.gridMovablesPink,n=e.gridMovablesYellow,r=e.textTwo,o=e.gridLandings,a=i.p8.timeline();return a.set(n.movables,{opacity:0}),a.to(r,{opacity:0}),a.to(t.movables,{opacity:0,y:function(e,t){var n=o.cells[e];return i.p8.getProperty(n,"y")+100}}),a}}])&&Bn(t.prototype,n),l}(Ke);function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e){return function(e){if(Array.isArray(e))return Kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nn(r);if(o){var n=Nn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Hn(this,e)});function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this)).FADE_OUT_DELAY=.5,e}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.gridYellow,n=e.gridRoundKey,r=e.equationRight,o=e.equationLeft,i=e.equationResult,a=new Rt(t.id,4,4,["rijndael-cell"]),l=a.createMovables("page-10-grid-movables",["rijndael-movable-cell","rijndael-movable-cell--alpha"]);this.subscribeTo("after-mix-columns-1",l.movables);var s=a.createMovables("page-10-grid-result-movables",["rijndael-movable-cell","rijndael-movable-cell--delta"]);this.subscribeTo("after-add-round-key-1",s.movables);var c=new Rt(n.id,4,4,["rijndael-cell"]),u=c.createMovables("page-10-round-key-movables",["rijndael-movable-cell","rijndael-movable-cell--eta"]);this.subscribeTo("key-1",u.movables);var d=new Rt(o.id,4,1,["rijndael-cell"]),f=new Rt(r.id,4,1,["rijndael-cell"]),p=new Rt(i.id,4,1,["rijndael-cell"]);this.addToPageElements({gridYellowLandings:a,gridYellowMovables:l,gridRoundKeyLandings:c,gridRoundKeyMovables:u,equationLeftLandings:d,equationRightLandings:f,equationResultLandings:p,gridResultMovables:s})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.body,r=e.page,o=e.gridResultMovables,a=e.addSymbol,l=e.equalsSymbol,s=e.text,c=e.gridYellowMovables,u=e.gridRoundKeyMovables,d=i.p8.timeline();return d.to({val:0},{val:1,duration:1e-4}),d.set(this.page,{opacity:0}),d.set(t,{y:"100%"}),d.set([r,n,s],{opacity:0}),d.set([].concat(Fn(c.movables),Fn(u.movables)),{opacity:0}),d.set([l,a],{opacity:0}),d.set(o.movables,{y:0,opacity:0}),d}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.animatableBackground,n=e.animatableBackgroundBar,r=e.bar,o=e.titleMask,a=e.body,l=e.page,s=e.gridYellowMovables,c=e.gridRoundKeyMovables,u=(e.gridResultMovables,e.gridYellowLandings),d=e.gridRoundKeyLandings,f=e.text,p=r.getBoundingClientRect(),h=i.p8.timeline();return h.to(t,{y:0,duration:.8},this.getAutoLabel()),h.to(n,{y:p.y}),h.set(n,{opacity:0},this.getAutoLabel()),h.set(l,{opacity:1},"<"),h.to(o,{x:"100%"}),h.set(s.movables,{opacity:0,y:function(e,t){var n=u.cells[e];return i.p8.getProperty(n,"y")+100}}),h.set(c.movables,{opacity:0,x:function(e,t){var n=d.cells[e];return i.p8.getProperty(n,"x")+100}}),h.to(a,{opacity:1},this.getAutoLabel()),h.to(s.movables,{opacity:1,y:0}),h.to(c.movables,{opacity:1,x:0}),h.to(f,{opacity:1}),h}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.gridYellowLandings,n=e.gridYellowMovables,r=e.gridRoundKeyLandings,o=e.gridRoundKeyMovables,a=e.equationLeftLandings,l=e.equationRightLandings,s=e.equationResultLandings,c=e.gridResultMovables,u=e.equalsSymbol,d=e.addSymbol,f=(e.equation,e.text),p=i.p8.timeline();return p.set(n.movables,{opacity:1}),p.add(this.moveGroup(n.getCol(0),t.getCol(0),a.cells,{duration:1.5}),this.getAutoLabel()),p.add(this.moveGroup(o.getCol(0),r.getCol(0),l.cells,{duration:1.5}),this.getAutoLabel()),p.to(d,{opacity:1},this.getAutoLabel()),p.to(u,{opacity:1},this.getAutoLabel()),p.add(this.moveGroup(c.getCol(0),t.getCol(0),s.cells,{duration:1e-4}),this.getAutoLabel()),p.to(c.getCol(0),{opacity:1},this.getAutoLabel()),p.add(this.moveGroup(c.getCol(0),s.getCol(0),t.getCol(0),{duration:1.5}),this.getAutoLabel()),p.to([d,u].concat(Fn(n.getCol(0)),Fn(o.getCol(0))),{opacity:0},"<"),p.to(c.getCol(1),{opacity:1},this.getAutoLabel()),p.to(o.getCol(1),{opacity:0},"<"),p.to(c.getCol(2),{opacity:1},this.getAutoLabel()),p.to(o.getCol(2),{opacity:0},"<"),p.to(c.getCol(3),{opacity:1},this.getAutoLabel()),p.to(o.getCol(3),{opacity:0},"<"),p.to(f,{opacity:0}),p}},{key:"createAnimationOut",value:function(){var e=this.pageElements,t=e.gridResultMovables,n=e.gridYellowMovables,r=e.gridYellowLandings,o=i.p8.timeline();return o.set(n.movables,{opacity:0}),o.to(t.movables,{opacity:0,y:function(e,t){var n=r.cells[e];return i.p8.getProperty(n,"y")+100}}),o}}])&&zn(t.prototype,n),l}(Ke);function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e,t){return!t||"object"!==Gn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$n(r);if(o){var n=$n(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Jn(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).page=t,n.rows=[],n}return t=a,(n=[{key:"addGridRow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=document.createElement("div");r.classList.add("rijndael-grid-overview__row-title"),r.dataset.lang=t,r.style.gridArea="".concat(e," / 1 / ").concat(e," /  1"),this.component.appendChild(r);for(var o=[],i={dataKey:"dummyGrid",classes:["rijndael-movable-cell","rijndael-movable-cell--alpha"]},a=0;a<4;a++){var l=n.length>a?qn(qn({},i),n[a]):i,s=l.classes,c=l.dataKey,u=document.createElement("div");u.style.gridArea="".concat(e,"  / ").concat(2+a,"/ ").concat(e,"/  ").concat(2+a,"  "),u.classList.add("rijndael-grid-overview__grid");var d=document.createElement("div");d.id="".concat(this.id,"-row-").concat(e,"-grid-").concat(a),d.style.width="max-content",u.appendChild(d),this.component.appendChild(u);var f=new Rt(d.id,4,4,["rijndael-cell","rijndael-cell--tiny"]),p=f.createMovables("".concat(f.id,"-movables"),s);c&&this.page.subscribeTo(c,p.movables),o.push(u)}var h=document.createElement("div"),y=document.createElement("div");y.innerHTML="+",y.classList.add("rijndael-grid-overview__add-symbol"),h.classList.add("rijndael-grid-overview__add-symbol-container"),h.style.gridArea="".concat(e," / 6 /  ").concat(e," / 6 "),h.appendChild(y),this.component.appendChild(h);var b=document.createElement("div");b.innerHTML="=",b.classList.add("rijndael-grid-overview__equals-symbol"),b.style.gridArea="".concat(e," / 8 / ").concat(e," /  8 "),this.component.appendChild(b);var g=n.length>=5?qn(qn({},i),n[4]):i,m=g.classes,v=g.dataKey,w=document.createElement("div");w.style.gridArea="".concat(e,"  / 7/ ").concat(e,"/  7 "),w.classList.add("rijndael-grid-overview__grid");var S=document.createElement("div");S.id="".concat(this.id,"-row-").concat(e,"-grid-7"),S.style.width="max-content",w.appendChild(S),this.component.appendChild(w);var O=new Rt(S.id,4,4,["rijndael-cell","rijndael-cell--tiny"]),k=O.createMovables("".concat(O.id,"-movables"),m);v&&this.page.subscribeTo(v,k.movables),o.push(w),this.rows.push([r].concat(o,[y,b]))}}])&&Xn(t.prototype,n),a}(ze);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e){return function(e){if(Array.isArray(e))return nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ir(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ar(r);if(o){var n=ar(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ir(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements.overview,t=new Qn(e.id,this);t.addGridRow(2,"inputLabel",[{dataKey:"initial-state"},{dataKey:null,classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]},{dataKey:null,classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]},{dataKey:null,classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]},{dataKey:"key-0",classes:["rijndael-movable-cell","rijndael-movable-cell--beta"]}]),t.addGridRow(3,"roundOneLabel",[{dataKey:"round-1-initial"},{dataKey:"after-sub-bytes-1"},{dataKey:"after-shift-rows-1"},{dataKey:"after-mix-columns-1"},{dataKey:"key-1",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),t.addGridRow(4,"roundTwoLabel",[{dataKey:"round-2-initial"},{dataKey:"after-sub-bytes-2"},{dataKey:"after-shift-rows-2"},{dataKey:"after-mix-columns-2"},{dataKey:"key-2",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),t.addGridRow(5,"roundThreeLabel",[{dataKey:"round-3-initial"},{dataKey:"after-sub-bytes-3"},{dataKey:"after-shift-rows-3"},{dataKey:"after-mix-columns-3"},{dataKey:"key-3",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),t.addGridRow(6,"roundFourLabel",[{dataKey:"round-4-initial"},{dataKey:"after-sub-bytes-4"},{dataKey:"after-shift-rows-4"},{dataKey:"after-mix-columns-4"},{dataKey:"key-4",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),t.addGridRow(7,"roundFiveLabel",[{dataKey:"round-5-initial"},{dataKey:"after-sub-bytes-5"},{dataKey:"after-shift-rows-5"},{dataKey:"after-mix-columns-5"},{dataKey:"key-5",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),this.addToPageElements({gridOverview:t})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements.gridOverview,t=tr(this.page.querySelectorAll(".rijndael-grid-overview__title")),n=i.p8.timeline();return n.to({val:0},{val:1,duration:1e-4}),n.set(this.page,{opacity:0}),n.set(tr(t),{opacity:0}),n.set(e.rows.flat(),{opacity:0}),n}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.gridOverview,n=e.text,r=tr(this.page.querySelectorAll(".rijndael-grid-overview__title")),o=i.p8.timeline();return o.to(n,{opacity:0,delay:3}),o.to(r,{opacity:1}),o.to(t.rows[0],{opacity:1}),o.to(t.rows[1],{opacity:1}),o.to(t.rows[2],{opacity:1}),o.to(t.rows[3],{opacity:1}),o.to(t.rows[4],{opacity:1}),o.to(t.rows[5],{opacity:1}),o}}])&&rr(t.prototype,n),l}(Ke);function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e){return function(e){if(Array.isArray(e))return ur(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hr(r);if(o){var n=hr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pr(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.overview,n=(e.output,e.outputGrid),r=new Qn(t.id,this);r.addGridRow(2,"roundSixLabel",[{dataKey:"round-6-initial"},{dataKey:"after-sub-bytes-6"},{dataKey:"after-shift-rows-6"},{dataKey:"after-mix-columns-6"},{dataKey:"key-6",classes:["rijndael-movable-cell","rijndael-movable-cell--beta"]}]),r.addGridRow(3,"roundSevenLabel",[{dataKey:"round-7-initial"},{dataKey:"after-sub-bytes-7"},{dataKey:"after-shift-rows-7"},{dataKey:"after-mix-columns-7"},{dataKey:"key-7",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),r.addGridRow(4,"roundEightLabel",[{dataKey:"round-8-initial"},{dataKey:"after-sub-bytes-8"},{dataKey:"after-shift-rows-8"},{dataKey:"after-mix-columns-8"},{dataKey:"key-8",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),r.addGridRow(5,"roundNineLabel",[{dataKey:"round-9-initial"},{dataKey:"after-sub-bytes-9"},{dataKey:"after-shift-rows-9"},{dataKey:"after-mix-columns-9"},{dataKey:"key-9",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]),r.addGridRow(6,"roundTenLabel",[{dataKey:"round-10-initial"},{dataKey:"after-sub-bytes-10"},{dataKey:"after-shift-rows-10"},{dataKey:null,classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]},{dataKey:"key-10",classes:["rijndael-movable-cell","rijndael-movable-cell--eta"]}]);var o=new Rt(n.id,4,4,["rijndael-cell","rijndael-cell--tiny"]),i=o.createMovables("page-12-output-movables",["rijndael-movable-cell","rijndael-movable-cell--alpha"]);this.subscribeTo("after-add-round-key-10",i.movables),this.addToPageElements({gridOverview:r,outputGrid:o})}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.gridOverview,n=e.output,r=cr(this.page.querySelectorAll(".rijndael-grid-overview__title")),o=i.p8.timeline();return o.to({val:0},{val:1,duration:1e-4}),o.set(this.page,{opacity:0}),o.set(cr(r),{opacity:0}),o.set(t.rows.flat(),{opacity:0}),o.set(n,{opacity:0}),o}},{key:"createAnimationMain",value:function(){var e=this.pageElements,t=e.gridOverview,n=(e.text,e.output),r=(e.outputGrid,cr(this.page.querySelectorAll(".rijndael-grid-overview__title"))),o=i.p8.timeline();return o.to(r,{opacity:1}),o.to(t.rows[0],{opacity:1}),o.to(t.rows[1],{opacity:1}),o.to(t.rows[2],{opacity:1}),o.to(t.rows[3],{opacity:1}),o.to(t.rows[4],{opacity:1}),o.to(n,{opacity:1}),o}}])&&dr(t.prototype,n),l}(Ke);function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vr(e,t){return!t||"object"!==br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wr(r);if(o){var n=wr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vr(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.circledChar,n=e.title,r=e.content,o=i.p8.timeline();return o.to({val:0},{val:1,duration:1e-4}),o.set(this.page,{opacity:0}),o.set([t,n,r],{opacity:0}),o}},{key:"createAnimationIn",value:function(){var e=this.pageElements,t=e.circledChar,n=e.title,r=e.content,o=i.p8.timeline();return o.to([t,n],{opacity:1}),o.to([r],{opacity:1}),o}}])&&gr(t.prototype,n),l}(Ke);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e){return function(e){if(Array.isArray(e))return Er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pr(r);if(o){var n=Pr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ar(this,e)});function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,e,t)).FADE_OUT_DELAY=10,n}return t=l,(n=[{key:"init",value:function(){var e=this.pageElements,t=e.primaryGridsOne,n=e.primaryGridsTwo,r=e.primaryGridsThree,o=e.primaryGridsFour,i=e.finalGrid,a=new Rt(t.id,4,4,["page-14-cell"]),l=new Rt(n.id,4,4,["page-14-cell"]),s=new Rt(r.id,4,4,["page-14-cell"]),c=new Rt(o.id,4,4,["page-14-cell"]),u=[a,l,s,c],d=a.createMovables("pg-one-movables-og",["rijndael-movable-cell","rijndael-movable-cell--beta"]),f=a.createMovables("pg-one-movables-transforms",["rijndael-movable-cell","rijndael-movable-cell--beta"]);this.subscribeTo("key-0",d.movables),this.subscribeTo("key-0",f.movables);var p=l.createMovables("pg-two-movables-og",["rijndael-movable-cell","rijndael-movable-cell--eta"]),h=l.createMovables("pg-two-movables-transforms",["rijndael-movable-cell","rijndael-movable-cell--eta"]);this.subscribeTo("key-1",p.movables),this.subscribeTo("key-1",h.movables);var y=s.createMovables("pg-three-movables-og",["rijndael-movable-cell","rijndael-movable-cell--eta"]),b=s.createMovables("pg-three-movables-transforms",["rijndael-movable-cell","rijndael-movable-cell--eta"]);this.subscribeTo("key-2",y.movables),this.subscribeTo("key-2",b.movables);var g=c.createMovables("pg-four-movables-og",["rijndael-movable-cell","rijndael-movable-cell--eta"]),m=c.createMovables("pg-four-movables-transforms",["rijndael-movable-cell","rijndael-movable-cell--eta"]);this.subscribeTo("key-3",g.movables),this.subscribeTo("key-3",m.movables);var v=[d,p,y,g],w=[f,h,b,m],S=new Rt(i.id,4,4,["page-14-cell"]),O=S.createMovables("pg-four-movables-og",["rijndael-movable-cell","rijndael-movable-cell--eta"]);this.subscribeTo("key-10",O.movables);var k=this.pageElements,j=k.secondaryGridsOne,T=k.secondaryGridsTwo,R=k.secondaryGridsThree,E=k.secondaryGridsFour,x=new Rt(j.id,4,4,["page-14-cell"]),L=new Rt(T.id,4,4,["page-14-cell"]),A=new Rt(R.id,4,4,["page-14-cell"]),P=new Rt(E.id,4,4,["page-14-cell"]),B=[x,L,A,P],C=this.pageElements.rconContainer,_=new Rt(C.id,4,10,["page-14-rcon-cell"]),M=_.createMovables("rcon-container",["rijndael-movable-cell","rijndael-movable-cell--alpha"]);this.subscribeTo("rcon",M.movables);var I=this.pageElements.sboxContainer,D=new hn(I.id);this.subscribeTo("sbox",D.gridMovables.movables);var F=a.createMovables("subsitution-movables",["rijndael-movable-cell","rijndael-movable-cell--alpha"]);this.subscribeTo("key-shedule-subbed-bytes",F.movables),this.addToPageElements({primaryLandingsOne:a,primaryLandingsTwo:l,primaryLandingsThree:s,primaryLandingsFour:c,finalGridLandings:S,secondaryLandingsOne:x,secondaryLandingsTwo:L,secondaryLandingsThree:A,secondaryLandingsFour:P,pgOneMovablesOg:d,pgOneMovablesTransforms:f,pgTwoMovablesOg:p,pgTwoMovablesTransforms:h,pgThreeMovablesOg:y,pgThreeMovablesTransforms:b,pgFourMovablesOg:g,pgFourMovablesTransforms:m,rcon:_,rconMovables:M,primaryLandings:u,secondaryLandings:B,substitutionMovables:F,sbox:D,pgMovablesOg:v,pgMovablesTransforms:w,finalGridMovables:O})}},{key:"getRelativeBounds",value:function(e){var t=this.page.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.x-t.x,y:n.y-t.y,width:n.width,height:n.height}}},{key:"getSymbolPosition",value:function(e){var t=this.pageElements.secondaryLandings[Math.floor(e/4)].getCell(2,e%4),n=this.getRelativeBounds(t);return{x:n.x,y:n.y}}},{key:"createPreFadeIn",value:function(){var e=this.pageElements,t=e.equalsSymbol,n=e.addSymbolOne,r=e.addSymbolTwo,o=e.textS,i=e.textA,a=e.textB,l=e.textInitial,s=e.textXor,c=e.substitutionMovables,u=e.sbox,d=e.textRotWord,f=e.pgMovablesOg,p=e.pgMovablesTransforms,h=e.finalGridMovables,y=e.textSubbytes,b=e.gridOneLabel,g=e.gridTwoLabel,m=e.gridThreeLabel,v=e.gridFourLabel,w=e.gridFinalLabel,S=this.getPreFadeInTimeline();S.set([y,d,u.component].concat(Rr(c.movables),[t,n,r,o,i,a,l,s,b,g,m,v,w]),{opacity:0});for(var O=1;O<4;O++)S.set([].concat(Rr(f[O].getCol(0)),Rr(p[O].getCol(0))),{background:"#888"}),S.set([].concat(Rr(f[O].movables),Rr(p[O].movables)),{opacity:0});return S.set(h.getCol(0),{background:"#888"}),S.set(h.movables,{opacity:0}),S}},{key:"getWiCol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=4,r=Math.floor(t/n),o=t%n;return e[r].getCol(o)}},{key:"addColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=this.pageElements,n=t.primaryLandings,r=t.secondaryLandings,o=t.equalsSymbol,a=t.addSymbolOne,l=t.pgMovablesOg,s=t.pgMovablesTransforms,c=this.getWiCol(s,e-4),u=this.getWiCol(s,e-1),d=this.getWiCol(s,e),f=i.p8.timeline();return f.set(a,jr({},this.getSymbolPosition(e-2))),f.set(o,jr({},this.getSymbolPosition(e+1))),f.set([].concat(Rr(d),[o,a]),{opacity:0}),f.add(this.moveGroup(d,this.getWiCol(n,e),this.getWiCol(r,e+2),{duration:.001})),f.set(c,{opacity:1}),f.add(this.moveGroup(c,this.getWiCol(n,e-4),this.getWiCol(r,e-4),{duration:1})),f.add(this.moveGroup(u,this.getWiCol(n,e-1),this.getWiCol(r,e-1),{duration:1})),f.to(a,{opacity:1}),f.to(o,{opacity:1}),f.to(d,{opacity:1}),f.add(this.moveGroup(d,this.getWiCol(r,e+2),this.getWiCol(n,e),{duration:1})),f.to([].concat(Rr(c),Rr(u),[o,a]),{opacity:0}),f.add(this.moveGroup(u,this.getWiCol(r,e-1),this.getWiCol(n,e-1),{duration:.001})),f.set(this.getWiCol(l,e),{opacity:1}),f}},{key:"createAnimationMain",value:function(){var e=window.screen.width<=800,t=i.p8.timeline();t.add(this.createFirstColTimeline(4,!e));var n=this.pageElements.textXor;t.to(n,{opacity:1}),t.add(this.addColumns(5)),t.add(this.addColumns(6)),t.add(this.addColumns(7)),t.to(n,{opacity:0});var r=this.pageElements,o=r.rconMovables,a=r.pgFourMovablesOg,l=r.finalGridMovables,s=r.gridFourLabel,c=r.gridOneLabel,u=r.gridTwoLabel,d=r.gridThreeLabel,f=r.gridFinalLabel,p=this.pageElements.rconLabel;e?t.to([c,u],{opacity:1}):(t.add(this.createFirstColTimeline(8,!1)),t.add(this.addColumns(9)),t.add(this.addColumns(10)),t.add(this.addColumns(11)),t.to([c,u,d],{opacity:1}),t.to(s,{opacity:1,delay:.5}),t.to(a.movables,{opacity:1},"<"),t.to(o.getCol(2),{opacity:0},"<"));for(var h=e?1:3;h<10;h++)t.to(o.getCol(h),{opacity:0,duration:.2,delay:.3});return t.to(p,{opacity:0},"<"),t.to(f,{opacity:1}),t.to(l.movables,{opacity:1},"<"),t}},{key:"createFirstColTimeline",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.pageElements,r=n.primaryLandings,o=n.secondaryLandings,a=n.equalsSymbol,l=n.addSymbolOne,s=n.addSymbolTwo,c=n.pgMovablesOg,u=n.substitutionMovables,d=n.pgMovablesTransforms,f=n.rcon,p=n.rconMovables,h=this.pageElements,y=h.textInitial,b=h.textA,g=h.textB,m=h.textS,v=h.textRotWord,w=Math.floor(e/4),S=this.getWiCol(d,e-4),O=this.getWiCol(d,e-1),k=(u.getCol(w-1),p.getCol(w-1)),j=this.getWiCol(d,e),T=i.p8.timeline();T.set(j,{opacity:0}),T.add(this.moveGroup(j,this.getWiCol(r,e),this.getWiCol(o,e+5),{duration:.001})),T.set(l,jr({},this.getSymbolPosition(e-2))),T.set(s,jr({},this.getSymbolPosition(e+1))),T.set(a,jr({},this.getSymbolPosition(e+4))),t&&T.to(y,{opacity:1});var R=this.getRelativeBounds(this.getWiCol(o,e-1)[0]);return T.to(v,{x:R.x+50,y:R.y+30,duration:.001,delay:2}),T.to(y,{opacity:0}),T.add(this.moveGroup(O,this.getWiCol(r,e-1),this.getWiCol(o,e-1),{duration:1})),T.to([v],{opacity:1}),t&&T.to([b,m],{opacity:1},"<"),T.add(this.shiftColumn(O,this.getWiCol(o,e-1),{})),T.to(v,{opacity:0}),T.add(this.createSubstitutionTimeline(e)),T.set(S,{opacity:1}),T.add(this.moveGroup(S,this.getWiCol(r,e-4),this.getWiCol(o,e-4),{duration:1})),T.to(l,{opacity:1}),T.add(this.moveGroup(k,f.getCol(w-1),this.getWiCol(o,e+2),{duration:1})),t&&T.to(g,{opacity:1}),T.to(s,{opacity:1}),T.to(a,{opacity:1}),T.to(j,{opacity:1}),T.add(this.moveGroup(j,this.getWiCol(o,e+5),this.getWiCol(r,e),{duration:1})),T.set(this.getWiCol(c,e),{opacity:1}),T.to([l,s,a],{opacity:0}),T.to([m,b,g],{opacity:0}),T.to([].concat(Rr(S),Rr(O),Rr(k),Rr(u.movables)),{opacity:0}),T.add(this.moveGroup(O,this.getWiCol(o,e-1),this.getWiCol(r,e-1),{duration:.001})),T.set(O,{opacity:1}),T}},{key:"createSubstitutionTimeline",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=this.pageElements,n=t.substitutionMovables,r=t.secondaryLandings,o=t.primaryLandings,a=t.sbox,l=t.pgMovablesTransforms,s=Math.floor(e/4),u=n.getCol(s-1),d=c(Rr(this.getWiCol(l,e-1)),-1),f=i.p8.timeline();f.add(this.moveGroup(u,this.getWiCol(o,s-1),this.getWiCol(r,e-1)),{duration:.001}),f.to(a.component,{opacity:1});for(var p=0;p<4;p++){var h=this.getSBoxCellLanding(a,d[p]),y=u[p];0==p?(f.add(this.moveToLanding(y,this.getWiCol(r,e-1)[0],h,{duration:.001})),f.to(y,{opacity:1}),f.add(this.moveToLanding(y,h,this.getWiCol(r,e-1)[0],{duration:1.5}))):(f.to(h,{background:"#FFCC61"}),f.to(y,{opacity:1}),f.to(h,{background:"#fff"}))}return f.to(a.component,{opacity:0}),f}},{key:"getSBoxCellLanding",value:function(e,t){var n=t.innerHTML,r=be(n[0]),o=be(n[1]);return e.grid.getCell(r,o)}},{key:"shiftColumn",value:function(e,t){var n=window.screen.width<=800?-50:-100,r=i.p8.timeline();return r.add(this.moveToLandingAdvanced(e[0],t[0],t[3],{offsetX:n}),"shift"),r.add(this.moveToLanding(e[1],t[1],t[0]),"shift+=.5"),r.add(this.moveToLanding(e[2],t[2],t[1]),"shift+=.5"),r.add(this.moveToLanding(e[3],t[3],t[2]),"shift+=.5"),r}}])&&xr(t.prototype,n),l}(Ke);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mr(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dr(r);if(o){var n=Dr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ir(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this)}return t=l,(n=[{key:"init",value:function(){}},{key:"createPreFadeIn",value:function(){var e=i.p8.timeline();return e.to({val:0},{val:1,duration:1e-4}),e}}])&&_r(t.prototype,n),l}(Ke);function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wr(e,t){return!t||"object"!==Kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nr={locale:Ce,themes:[{name:"default",className:"theme--default",localeKey:"themeOptionDefault"},{name:"new",className:"theme--new",localeKey:"themeOptionNew"}],iframeContainerID:"test-container"};const Vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Hr(t);if(n){var o=Hr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Wr(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,Nr),console.time("create"),e.registerAnimationPage($e,"page-1"),e.registerAnimationPage(gt,"page-2"),e.registerAnimationPage(Bt,"page-3"),e.registerAnimationPage(Ft,"page-4"),e.registerAnimationPage($t,"page-5"),e.registerAnimationPage(an,"page-6"),e.registerAnimationPage(On,"page-7"),e.registerAnimationPage(xn,"page-8"),e.registerAnimationPage(In,"page-9"),e.registerAnimationPage(Vn,"page-10"),e.registerAnimationPage(lr,"page-11"),e.registerAnimationPage(yr,"page-12"),e.registerAnimationPage(Sr,"page-13"),e.registerAnimationPage(Br,"page-14"),e.registerAnimationPage(Fr,"page-15"),e.init(),e}return o}(Be);window.addEventListener("load",(function(){document.body.style.visibility="visible",i.p8.registerPlugin(r._Z),i.p8.registerPlugin(o.X),new Vr}),!1)}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.x=e=>{},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0},t=[[934,987]],r=e=>{},o=(o,i)=>{for(var a,l,[s,c,u,d]=i,f=0,p=[];f<s.length;f++)l=s[f],n.o(e,l)&&e[l]&&p.push(e[l][0]),e[l]=0;for(a in c)n.o(c,a)&&(n.m[a]=c[a]);for(u&&u(n),o&&o(i);p.length;)p.shift()();return d&&t.push.apply(t,d),r()},i=self.webpackChunkrijndael_animation_html5=self.webpackChunkrijndael_animation_html5||[];function a(){for(var r,o=0;o<t.length;o++){for(var i=t[o],a=!0,l=1;l<i.length;l++){var s=i[l];0!==e[s]&&(a=!1)}a&&(t.splice(o--,1),r=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var l=n.x;n.x=()=>(n.x=l||(e=>{}),(r=a)())})(),n.x()})();